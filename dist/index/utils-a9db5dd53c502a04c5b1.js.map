{"version":3,"sources":["webpack:///./client/User/assets/font/iconfont.css","webpack:///./client/User/assets/style/reset.css","webpack:///./client/User/components/Bg/bst.js","webpack:///./client/User/components/Bg/fibonacci.js","webpack:///./client/User/components/Bg/index.css","webpack:///./client/User/components/Bg/index.jsx","webpack:///./client/User/components/Comment/github-default-avatar.png","webpack:///./client/User/components/Comment/index.css","webpack:///./client/User/components/Comment/index.jsx","webpack:///./client/User/components/Header/calcHandle.js","webpack:///./client/User/components/Header/eventloop.js","webpack:///./client/User/components/Header/index.css","webpack:///./client/User/components/Header/index.jsx","webpack:///./client/User/components/Header/num2money.js","webpack:///./client/User/components/Header/palindrome.js","webpack:///./client/User/components/Header/searchResult.js","webpack:///./client/User/components/Header/titleHandle.js","webpack:///./client/User/components/HomeList/index.css","webpack:///./client/User/components/HomeList/index.jsx","webpack:///./client/User/components/Img/index.css","webpack:///./client/User/components/Img/index.jsx","webpack:///./client/User/components/LoadMore/index.css","webpack:///./client/User/components/LoadMore/index.jsx","webpack:///./client/User/components/Nav/index.css","webpack:///./client/User/components/Nav/index.jsx","webpack:///./client/User/components/Popup/index.css","webpack:///./client/User/components/Popup/index.jsx","webpack:///./client/User/containers/Article/index.css","webpack:///./client/User/containers/Article/index.jsx","webpack:///./client/User/containers/ArticleCategory/index.css","webpack:///./client/User/containers/ArticleCategory/index.jsx","webpack:///./client/User/containers/Auth/index.css","webpack:///./client/User/containers/Auth/index.jsx","webpack:///./client/User/containers/BestArticle/index.css","webpack:///./client/User/containers/BestArticle/index.jsx","webpack:///./client/User/containers/CollectionOfWorks/index.css","webpack:///./client/User/containers/CollectionOfWorks/index.jsx","webpack:///./client/User/containers/Home/index.css","webpack:///./client/User/containers/Home/index.jsx","webpack:///./client/User/containers/NoMatch/index.css","webpack:///./client/User/containers/NoMatch/index.jsx","webpack:///./client/User/containers/SearchList/index.css","webpack:///./client/User/containers/SearchList/index.jsx","webpack:///./client/User/fetch/axios.js","webpack:///./client/User/index.jsx","webpack:///./client/User/redux/Article.js","webpack:///./client/User/redux/ArticleCategory.js","webpack:///./client/User/redux/ArticleLinkList.js","webpack:///./client/User/redux/ArticleList.js","webpack:///./client/User/redux/Comment.js","webpack:///./client/User/redux/Iframe.js","webpack:///./client/User/redux/Popup.js","webpack:///./client/User/redux/Storage.js","webpack:///./client/User/redux/User.js","webpack:///./client/User/redux/index.js","webpack:///./client/User/redux/store.js","webpack:///./client/User/router/history.js","webpack:///./client/User/router/index.css","webpack:///./client/User/router/index.jsx","webpack:///./client/lib/bst.js","webpack:///./client/lib/cookie.js","webpack:///./client/lib/datetime.js","webpack:///./client/lib/debounce.js","webpack:///./client/lib/detectWebp.js","webpack:///./client/lib/fibonacci.js","webpack:///./client/lib/inheritPrototype.js","webpack:///./client/lib/iterator.js","webpack:///./client/lib/reg.js","webpack:///./client/lib/type.js","webpack:///./client/lib/xss.js","webpack:///./config.js","webpack:///./favicon.ico","webpack:///(webpack)/hot sync nonrecursive ^\\.\\/log$"],"names":["setWidth","tree","width","left","right","curY","setPosition","x","position","y","draw","ctx","predecessor","beginPath","arc","Math","PI","moveTo","lineTo","stroke","fillText","data","inOrder","preOrder","postOrder","writeText","bst","font","root","insert","strokeStyle","fillStyle","textAligin","n","i","len","recurse","translate","rotate","Bg","props","$canvas","document","body","clientWidth","height","clientHeight","save","restore","call","getContext","sizeHandle","window","addEventListener","bind","get_user","logout","send_message","Comment","state","UserReducer","IframeReducer","CommentReducer","user_id","id","location","submitHandle","infoHandle","changeHandle","replyHandle","likedHandle","role","SSO_DOMAIN","avatar_url","name","e","update_content","target","value","from_uid","getAttribute","update_to_user","parseInt","localStorage","getItem","update_popup","isOpen","header","content","currentTarget","has_liked","comment_id","parentNode","add_liked","type","status","liked_id","liked_status","forEach","outer","liked","inner","update_liked","to_uid","test","to_name","RegExp","$1","item","from_name","replace","time","toRegular","Date","post_comment","article_id","arr","num","flag","map","from_avatar_url","hasLiked","getLikedStatus","getLikedNum","setState","href","get_comment","_mult","ret","nums","_plus","_createProxyFactory","fn","cache","args","_args","split","apply","key","proxyPlus","proxyMult","setTimeout","title","isDetectKeyEvent","j","index","k","resolve","reject","then","get_article_link_list","Search","ArticleLinkListReducer","selectedData","isFocus","focusHandle","keydownHandle","keypressHandle","inputHandle","keyupHandle","blurHandle","keyCode","open","encodeURIComponent","length","$list","list","removeEventListener","defaultProps","ISDEV","propTypess","arrayOf","object","isRequired","str","indexOf","slice","trim","num2money","reverse","join","pos","push","sort","prev","next","search","querys","decodeURIComponent","paramsObj","val","tag","getSrc","FILE_SERVER_DOMAIN","src","LatestItem","cover_url","summary","pubtime","link","propTypes","string","cover","BestItem","read_num","comment_num","liked_num","number","WorksItem","imgSrc","imgAlt","sourceLink","demoLink","githubLink","Image","defaultSrc","getIndexStorage","res","setItem","catch","console","error","err","message","img","onload","onerror","className","alt","preload","loadingGif","getLoadingGif","LoadMore","loadMoreRef","is_end_page","Nav","Popup","PopupReducer","mousedownHandle","mousemoveHandle","mouseupHandle","closeHandle","canvasWidth","canvasHeight","lineWidth","lineCap","closePath","fill","dragging","diffX","clientX","$wrap","offsetLeft","diffY","clientY","offsetTop","top","wrapStyle","margin","drawBg","question","yesText","noText","Article","ArticleReducer","email","isMemoried","commentContent","handleInputChange","checked","valueOf","size","use","processSync","changeImgUrl","contents","prev_id","prev_title","next_id","next_title","getUniqueWordsNum","contentHandle","category_id","comments","Tag","count","total","ArticleCategory","tagsList","ArticleCategoryReducer","get_category_list","update_loaded_status","Auth","iframeNow","responseInterceptorsHandle","messageHandle","loadHandle","interceptors","response","notToCheckList","some","config","url","removeItem","access_token","whitelist","includes","origin","retCode","feature","isSupport","set","maxAge","domain","COOKIE_DOMAIN","path","detectWebpHandle","$iframe","hasLoaded","messageType","postFn","contentWindow","postMessage","BestArticle","bestReducer","loadMoreHandle","debounce","$scrollWrap","div","$area","area","sHeight","screen","getBoundingClientRect","get_best_list","page_num","per_page","total_count","bool","CollectionOfWorks","get_latest_list","get_storage","Home","latestReducer","$loadmore","NoMatch","get_search_list","SearchList","searchReducer","paginateHandle","articleList","setResponseInterceptorsInfo","getRespnseInterceptorsInfo","axios","create","transformRequest","headers","validateStatus","timeout","responseType","request","Authorization","isSetInterceptors","get","post","del","delete","patch","domainIndex","domainFileServer","api","get_article_latestlist","get_article_bestlist","post_article","get_article","get_article_linkList","get_article_alllist","get_searchlist","get_category","get_works","add_comment","get_liked","render","module","hot","accept","getElementById","reducer","initialState","article_type_id","actionTypes","RESPONSE_ARTICLE","ADD_LIKED","UPDATE_LIKED","actions","dispatch","action","newItem","concat","GET_CATEGORY_LIST","GET_ARTICLE_LINK_LIST","allReducer","initialStateForLatest","initialStateForBest","initialStateForSearch","initialStateForAll","GET_LATEST_LIST","RESPONSE_LATEST_LIST","GET_BEST_LIST","RESPONSE_BEST_LIST","GET_SEARCH_LIST","RESPONSE_SEARCH_LIST","GET_All_LIST","RESPONSE_All_LIST","SORT_ALL_LIST","get_all_list","sort_all_list","GET_COMMENTS","GET_LIKED","UPDATE_TO_USER","UPDATE_CONTENT","POST_COMMENT","comments_id","commentItem","isPlainObject","outerItem","SEND_MESSAGE","UPDATE_IFRAME_STATUS","RESET_USER_INFO","notMoveYet","UPDATE_POPUP","ops","GET_STORAGE","github_url","GET_USER_INFO","LOGOUT","reset_user","StorageReducer","configureStore","IS_CLIENT_ENV","middlewares","storeEnhancers","devToolsExtension","f","initialStore","store","__REDUX_DATA__","IndexRouteMap","Node","show","BST","prototype","constructor","cur","parent","node","getMin","getMax","find","removeNode","tmpNode","remove","Node4C","arguments","BST4C","update","d","cookie","cName","cStart","cVal","cEnd","substring","options","Error","expires","toUTCString","httpOnly","sameSite","secure","unset","datetime","handleZero","dateObj","isDate","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","wait","immediate","timer","self","clearTimeout","callback","kTestImages","lossy","lossless","alpha","animation","result","fibonacci","tco","active","shift","iterator","math","SQRT_FIVE","sqrt","round","pow","memorize","address","subType","superType","Array","obj","isDone","getCurItem","cb","l","stop","date","phone","mail","legal","isType","Object","toString","isObject","isBelongsToObject","isArray","escapeHtml","escapeJs","ISPROD","ISTEST","process","env","DEV","SSO_PORT","INDEX_PORT","INDEX_SEVER_PORT","INDEX_DOMAIN","CMS_PORT","CMS_SERVER_PORT","CMS_DOMAIN","FILE_SERVER_PORT","PROD","INDEX_SERVER_PORT","exports","PUBLICPATH","GITHUB","AUTHORIZE_URL","TOKEN_URL","USER_URL","CLIENT_ID","DEMO_ROOT_PATH","cryptoPwd","md5","account","password"],"mappings":"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","file":"utils-a9db5dd53c502a04c5b1.js","sourcesContent":["// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","import BST from '../../../lib/bst'\n\nfunction setWidth (tree) {\n  if (tree === null) {\n    return 0\n  }\n\n  if (tree.width > 0) {\n    return tree.width\n  }\n\n  if (!(tree.left || tree.right)) {\n    tree.width = 60\n    return 60\n  }\n\n  tree.width = setWidth(tree.left) + setWidth(tree.right) + 45\n  return tree.width\n}\n\nlet curY = 100\n\nfunction setPosition (tree, left, right) {\n  if (tree === null) {\n    return\n  }\n\n  const x = (left + right) >> 1\n  tree.position = {\n    x,\n    y: curY\n  }\n\n  curY += 90\n\n  setPosition(tree.left, x - tree.width / 2, x)\n  setPosition(tree.right, x, x + tree.width / 2)\n\n  curY -= 90\n}\n\nfunction draw (tree, ctx, predecessor = null) {\n  if (tree === null) {\n    return\n  }\n\n  const x = tree.position.x\n  const y = tree.position.y\n\n  ctx.beginPath()\n  ctx.arc(x, y, 30, 0, Math.PI * 2, false)\n\n  if (predecessor) {\n    ctx.moveTo(x, y - 30)\n    ctx.lineTo(predecessor.position.x, predecessor.position.y + 30)\n  }\n\n  ctx.stroke()\n\n  ctx.fillText(tree.data, x - 12, y + 12)\n  draw(tree.left, ctx, tree)\n  draw(tree.right, ctx, tree)\n}\n\nlet inOrder = ''\nlet preOrder = ''\nlet postOrder = ''\n\nfunction writeText (ctx, bst) {\n  ctx.font = '16px cursive'\n\n  bst.inOrder(bst.root, data => inOrder += `${data} `)\n  bst.preOrder(bst.root, data => preOrder += `${data} `)\n  bst.postOrder(bst.root, data => postOrder += `${data} `)\n\n  ctx.fillText(inOrder, 100, 400)\n  ctx.fillText(preOrder, 50, 450)\n  ctx.fillText(postOrder, 80, 500)\n}\n\nexport default function (ctx) {\n  let bst = new BST()\n  bst.insert(77)\n  bst.insert(34)\n  bst.insert(9)\n  bst.insert(120)\n  bst.insert(83)\n  bst.insert(11)\n  bst.insert(56)\n  bst.insert(2)\n  bst.insert(98)\n\n  setWidth(bst.root)\n  setPosition(bst.root, 0, 600)\n\n  ctx.strokeStyle = 'rgba(0, 249, 0, .2)'\n  ctx.fillStyle = 'rgba(0, 249, 0, .2)'\n  ctx.font = '24px cursive'\n  ctx.textAligin = 'center'\n\n  draw(bst.root, ctx)\n\n  writeText(ctx, bst)\n}\n","import fibonacci from '../../../lib/fibonacci'\n\nexport default function (n) {\n  let ctx = this.ctx\n\n  // ctx.clearRect(0, 0, this.$canvas.width, this.$canvas.height)\n\n  for (let i = 1; i < n; ++i) {\n    let len = fibonacci.recurse(i)\n\n    // ctx.strokeRect(0, 0, len, len)\n\n    ctx.strokeStyle = 'rgba(0, 249, 0, .2)'\n    ctx.beginPath()\n    ctx.arc(len, 0, len, Math.PI / 2, Math.PI)\n    ctx.stroke()\n\n    ctx.translate(len, len)\n    ctx.rotate(3 * Math.PI / 2)\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"bg-wrap\":\"bg-wrap_1ryLK\"};","import React, { Component } from 'react'\n\nimport drawFibonacci from './fibonacci'\nimport drawBst from './bst'\n\nimport style from './index.css'\n\nclass Bg extends Component {\n  constructor (props) {\n    super(props)\n\n    this.ctx = null\n  }\n\n  sizeHandle () {\n    this.$canvas.width = document.body.clientWidth\n    this.$canvas.height = document.body.clientHeight\n\n    this.ctx.save()\n\n    this.ctx.translate(0, 0)\n    drawBst(this.ctx)\n\n    this.ctx.restore()\n\n    this.ctx.translate(500, 200)\n    drawFibonacci.call(this, 15)\n  }\n\n  render () {\n    return (\n      <div className={style['bg-wrap']}>\n        <canvas ref={$canvas => this.$canvas = $canvas} />\n      </div>\n    )\n  }\n\n  componentDidMount () {\n    this.ctx = this.$canvas.getContext('2d')\n\n    if (this.ctx) {\n      this.sizeHandle()\n\n      window.addEventListener('size', this.sizeHandle.bind(this), false)\n    }\n  }\n}\n\nexport default Bg\n","module.exports = \"data:image/png;base64,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\"","// removed by extract-text-webpack-plugin\nmodule.exports = {\"comment-wrap\":\"comment-wrap_1Knl9\",\"form-comment\":\"form-comment_10r1a\",\"form-hd\":\"form-hd_jBxmo\",\"info\":\"info_3JiSG\",\"avatar\":\"avatar_-JgDG\",\"name\":\"name_OlkLi\",\"btn-post\":\"btn-post_30SuH\",\"link\":\"link_2K7E1\",\"link--logout\":\"link--logout_3gaYw\",\"form-bd\":\"form-bd_3ey4E\",\"textarea\":\"textarea_1O2fL\",\"comment-item\":\"comment-item_8oFTT\",\"comment-hd\":\"comment-hd_2pzCX\",\"username\":\"username_2ns4e\",\"btn-like\":\"btn-like_yLeoP\",\"time\":\"time_2hGbZ\",\"liked-num\":\"liked-num_3V0wb\",\"icon--liked\":\"icon--liked_UeU7P\",\"icon--unliked\":\"icon--unliked_2F635\",\"btn-reply\":\"btn-reply_2YVWF\",\"to-name\":\"to-name_1yHGk\",\"comment-bd\":\"comment-bd_kCGfs\",\"content\":\"content_2ftMJ\"};","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport config from '../../../../config'\nimport { actions as UserActions } from '../../redux/User'\nimport { actions as IframeActions } from '../../redux/Iframe'\nimport { actions as CommentActions } from '../../redux/Comment'\nimport { actions as PopupActions } from '../../redux/Popup'\nimport datetime from '../../../lib/datetime'\nimport { stop } from '../../../lib/iterator'\nimport Img from '../Img'\n\nimport style from './index.css'\nimport img from './github-default-avatar.png'\n\nconst { get_user, logout } = UserActions\nconst { send_message } = IframeActions\n\n// === sessionStorage: 会话级别的浏览器存储 === //\n// === 1 特点：5M左右, 仅存在客户端, 当前tab关闭后消失 === //\n// === 2 使用：表单信息的维护(防止页面 刷新后/跳转后 已填写的表单数据丢失)，是否支持webp等 === //\n\n@connect(\n  state => state.UserReducer,\n  {get_user, logout}\n)\n@connect(state => state.IframeReducer, {send_message})\n@connect(state => state.CommentReducer, {...CommentActions})\n@connect(state => ({\n  user_id: state.UserReducer.id\n}))\n@connect(null, {...PopupActions})\nexport default class Comment extends Component {\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      location: ''\n    }\n\n    this.submitHandle = ::this.submitHandle\n    this.infoHandle = ::this.infoHandle\n    this.changeHandle = ::this.changeHandle\n    this.replyHandle = ::this.replyHandle\n    this.likedHandle = ::this.likedHandle\n\n  }\n\n  infoHandle () {\n\n    switch (this.props.role) {\n\n      case -1:\n        return <a href={`${config.SSO_DOMAIN}?from=${this.state.location}`} className={style['link']}>登录后可评论</a>\n\n      default:\n        return (\n          <div className={style['info']}>\n            <Img src={this.props.avatar_url} className={style['avatar']}/>\n            <span className={style['name']}>{this.props.name}</span>\n            <span onClick={this.props.logout} className={style['link--logout']}>登出</span>\n          </div>\n        )\n\n    }\n\n  }\n\n  /**\n   * change处理函数\n   */\n  changeHandle (e) {\n    this.props.update_content(e.target.value)\n  }\n\n  /**\n   * 回复处理\n   */\n  replyHandle (e) {\n\n    const target = e.target\n    const from_uid = target.getAttribute('data-from-uid')\n\n    this.props.update_to_user(parseInt(from_uid))\n  }\n\n  /**\n   * 点赞处理\n   */\n  likedHandle (e) {\n\n    if (!window.localStorage.getItem('access_token')) {\n      return this.props.update_popup({\n        isOpen: 1,\n        header: '提示:',\n        content: '请先登录'\n      })\n    }\n\n    // === target 与 currentTarget: === //\n    // === 1 currentTarget: 绑定事件的对象, 若想要获取的目标元素有子元素, 最好对目标元素进行事件绑定并通过 currentTarget 获取 === //\n    // === 2 target: 触发事件的对象, 如有嵌套的div，对父级div绑定click事件，当点击子div时，currentTarget为父div，target为子div === //\n    \n    const target = e.currentTarget\n    const has_liked = target.getAttribute('data-has-liked')\n    const comment_id = parseInt(target.parentNode.parentNode.getAttribute('data-comment-id'))\n\n    // 没有点赞过的情况\n    if (has_liked === 'false') {\n\n      this.props.add_liked({\n        type: 1,\n        status: 1,\n        comment_id: parseInt(comment_id)\n      })\n\n      return\n\n    }\n\n    // 点赞过的情况\n\n    // 找出liked_id\n    let liked_id\n    let liked_status\n    this.props.data.forEach(outer => {\n      if (parseInt(comment_id) === outer.id) {\n        outer.liked.forEach(inner => {\n          if (inner.user_id === this.props.user_id) {\n            liked_id = inner.id\n            liked_status = inner.status === 1 ? 0 : 1\n          }\n        })\n      }\n    })\n\n    if (!liked_id && !liked_status) {\n      return\n    }\n\n    this.props.update_liked({\n      id: liked_id,\n      status: liked_status,\n      comment_id\n    })\n\n  }\n\n  /**\n   * 发表评论处理函数\n   */\n  submitHandle () {\n\n    if (this.props.role === -1 || this.props.role === 2) {\n      return this.props.update_popup({\n        isOpen: 1,\n        header: '提示:',\n        content: '请先登录'\n      })\n    }\n\n    let content = this.props.content\n\n    // to_uid\n    let to_uid = 0\n    if (/^@(\\w+?):/.test(content)) {\n      const to_name = RegExp.$1\n      stop(this.props.data, item => {\n        if (to_name === item.from_name) {\n          to_uid = item.from_uid\n          content = content.replace(/^@\\w+?:/, '')\n          return false\n        }\n      })\n    }\n\n    const time = datetime.toRegular(new Date())\n    this.props.post_comment({\n      article_id: this.props.article_id,\n      to_uid,\n      time,\n      content\n    })\n\n  }\n\n  /**\n   * 获取点赞数\n   */\n  getLikedNum (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let num = 0\n    arr.forEach(item => {\n      if (item.status === 1) {\n        ++num\n      }\n    })\n    return num\n  }\n\n  /**\n   * 是否已经点赞过\n   */\n  hasLiked (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let flag = false\n    arr.forEach(item => {\n      if (item.user_id === this.props.user_id) {\n        flag = true\n      }\n    })\n\n    return flag\n\n  }\n\n  /**\n   * 点赞状态\n   */\n  getLikedStatus (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let flag = false\n    arr.forEach(item => {\n      if (item.user_id === this.props.user_id && item.status === 1) {\n        flag = true\n      }\n    })\n\n    return flag\n\n  }\n\n  render () {\n    \n    return (\n      <section className={style['comment-wrap']}>\n        <form className={`${style['form-comment']}`} onSubmit={this.submitHandle}>\n          <div className={style['form-hd']}>\n            <input\n              type='button'\n              onClick={this.submitHandle}\n              className={style['btn-post']}\n              value='发表'\n            />\n            {this.infoHandle()}\n          </div>\n          <div className={style['form-bd']}>\n            <textarea\n              className={style['textarea']}\n              name='commentContent'\n              value={this.props.content}\n              placeholder='请填写您的评论。(大神请怒喷^_^)'\n              onChange={this.changeHandle} />\n          </div>\n        </form>\n        <div className={style['comment-list']}>\n          {\n            this.props.data.map((item, i) => {\n              \n              return (\n                <div className={style['comment-item']} key={item.id} data-comment-id={item.id}>\n                  <div className={style['comment-hd']}>\n                    <Img src={item.from_avatar_url} alt=\"头像\" className={style['avatar']} defaultSrc={img}/>\n                    <span className={style['username']}>{item.from_name}</span>\n                    <span className={style['time']}>{item.time}</span>\n                    <span className={style['btn-reply']} data-from-uid={item.from_uid} onClick={this.replyHandle}>回复</span>\n                    <span className={style['btn-like']} data-has-liked={this.hasLiked(item.liked)} onClick={this.likedHandle} >\n                      {\n                        this.getLikedStatus(item.liked) ? (\n                         <svg t=\"1533043872992\" className={style[\"icon--liked\"]} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5835\" width=\"20\" height=\"20\">\n                           <path d=\"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z\" p-id=\"5836\" fill=\"#e7d71b\"></path>\n                         </svg>\n                          ) : (\n                         <svg t=\"1533043671931\" className={style[\"icon--unliked\"]} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5833\" width=\"20\" height=\"20\">\n                           <path d=\"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z\" p-id=\"5834\" fill=\"#e7d71b\"></path>\n                         </svg>)\n                      }\n                      &lt;<b className={style['liked-num']}>{this.getLikedNum(item.liked) || 0}</b>&gt;\n                    </span>\n                  </div>\n                  <div className={style[\"comment-bd\"]}>\n                    <p className={style['content']}>\n                      {item.to_uid ? <span className={style['to-name']}>@{item.to_name}:</span> : ''}\n                      {item.content}\n                    </p>\n                  </div>\n                </div>\n              )\n\n            })\n          }\n        </div>\n      </section>\n    )\n  }\n\n  componentDidMount () {\n\n    this.setState({\n      location: location.href\n    })\n\n    this.props.get_comment(this.props.article_id, 0, 10)\n\n  }\n}\n","/**\n * 计算乘积\n * @param {Arguments} nums - 参数\n * @return {Number}\n * @private\n */\nfunction _mult (...nums) {\n\n  let ret = 1\n\n  for (let num of nums) {\n    ret *= num\n  }\n\n  return ret\n\n}\n\n/**\n * 计算加和\n * @param {Arguments} nums - 参数\n * @return {Number}\n * @private\n */\nfunction _plus (...nums) {\n\n  let ret = 0\n\n  for (let num of nums) {\n    ret += num\n  }\n\n  return ret\n\n}\n\n/**\n * 算术处理\n * // === 缓存代理: 缓存代理，为一些开销很大的运算结果提供暂时的存储，在下次运算时，如果参数跟之前的一致，则可以直接返回前面存储的结果 === //\n * // === 1 实现: === //\n * // === 1.1 使用高阶函数动态创建代理 === //\n * // === 1.2 把计算方法当作参数传入一个专门用于创建缓存代理的工厂中 === //\n * @param {Function} fn - 回调\n * @private\n */\nfunction _createProxyFactory (fn) {\n\n  let cache = {}\n\n  return function (...args) {\n\n    const _args = args\n      .replace(/[+*]/, '')\n      .split(' ')\n\n    if (args in cache) {\n      return cache[args]\n    }\n\n    return cache[args] = fn.apply(this, _args)\n\n  }\n\n}\n\n/**\n * 判断计算类型\n * @return {Boolean}\n */\nexport default function () {\n\n  const key = this.state.key\n\n  if (/^[+\\d]+$/.test(key)) {\n\n    const proxyPlus = _createProxyFactory(_plus)\n\n    this.props.update_popup({\n      isOpen: 1,\n      header: '计算结果:',\n      content: proxyPlus(key)\n    })\n\n    return true\n\n  }\n\n  if (/^[+\\d]+$/.test(key)) {\n\n    const proxyMult = _createProxyFactory(_mult)\n\n    this.props.update_popup({\n      isOpen: 1,\n      header: '计算结果:',\n      content: proxyMult(key)\n    })\n\n    return true\n\n  }\n\n  return false\n\n}\n","export default function () {\n\n  // === 事件循环机制： === //\n\n  // === 1.分为4部分：代码、调用栈、webcore模块、任务队列 === //\n  // === 1.1 代码：可执行代码 === //\n  // === 1.2 调用栈：js有一个 主进程 和 调用堆栈，对一个调用堆栈中的任务进行处理时，其它的都要等着 === //\n  // === 1.3 webcore模块：webkit内核在js执行引擎外，提供了webcore模块，用来对类似DOM，ajax，setTimeout这些api提供底层的如DOM Binding，network，timer模块进行处理 === //\n  // === 1.4 任务队列：等webcore模块处理完后将回调放入任务队列，之后等调用栈中的任务执行完后再去执行队列中的任务 === //\n\n  // === 2.以下面为例： === //\n  // === 2.1 当i为5时，调用栈 发现 循环体 内是setTimeout，将其出栈后把延时执行的函数交给 timer 模块处理  === //\n  // === 2.2 当为 4，3，2，1 时，和 i 为 5 时相同，因此 timer 模块会有5个相同的延时执行函数 === //\n  // === 2.3 当为 0 时，不满足循环条件，循环结束，this.setState({title: `${this.state.title}-blur`}) 入调用栈，执行后出栈 === //\n  // === 2.4 1s后，timer 模块将 5 个回调按照注册顺序依次返回给任务队列 === //\n  // === 2.5 执行引擎去执行 任务队列时，5个函数依次 入调用栈，执行，出栈，此时5个函数访问到的 i 都为 0 === //\n  // === 2.6 第一个回调执行后，key变为true，之后的4个回调都无法执行 === //\n\n  var i = 0\n\n  for (let key = false; i--; ) {\n\n    setTimeout(() => {\n\n      if (i === 0 && !key) {\n\n        this.setState({\n          title: `想搜索些啥文章呢？`,\n          isDetectKeyEvent: false\n        })\n\n        key = true\n      }\n\n    }, 1000)\n\n  }\n\n  // === 闭包：由执行上下文及执行上下文中的函数组成，是有权访问另一个函数作用域中的函数，也可简便地理解为有数据的函数 === //\n  // === 分析如下代码： === //\n  // === 1.若没有IIFE，setTimeout中的回调获取到的i是 5 === //\n  // === 2.有了IIFE，setTimeout中的回调获取到的是传进去IIFE中的实参 === //\n  // === 3.闭包就是：setTimeout代码块与index等IIFE中的数据组成 === //\n\n  // === 函数声明与函数表达式: === //\n  // === 1 函数声明: function关键字开头, 后跟着函数标识符名称 === //\n  // === 1.1 特点：函数声明提升 === //\n  // === 2 函数表达式: === //\n  \n  // === IIFE: 立即执行的函数表达式, 形成闭包，用来处理模块化可以减少全局变量造成的空间污染，构造跟多私有变量 === //\n  // === 1 写法: 将函数声明转化为函数表达式 === //\n  /*\n\n  // 最常用的写法\n  (function () {}()}\n  (function () {})()\n\n  // 其它写法\n  var i = function () {}()\n  true && function () {}()\n  0, function () {}()\n  +function () {}()\n  -function () {}()\n  !function () {}()\n  ~function () {}()\n\n  // 可以但不建议\n  new function () {}\n  new function () {}(参数)\n\n  */\n  // === 2 创建module: === //\n  /*\n\n  var module = (function () {\n\n    let num = 1\n\n    return {\n      get () {\n        return num\n      },\n      set () {\n        num = value\n      }\n    }\n\n  })()\n\n  */\n\n  for (var j = 0; j < 5; ++j) {\n\n    ~function (index) {\n\n      setTimeout(function () {\n        i = index\n      }, 0)\n\n    }(j)\n\n  }\n\n  // === es6 块级作用域 中的 let 等价于以上用IIFE的方法 === //\n  for (let k = 0; k < 5; ++k) {\n\n    setTimeout(function () {\n      i = k\n    }, 10)\n\n  }\n\n  // === 3.任务源： === //\n  // === 3.1 macro-task：script(整体代码), setTimeout, setInterval, setImmediate, I/O, UI rendering。 === //\n  // === 3.2 micro-task: process.nextTick, Promises, Object.observe, MutationObserver === //\n\n  // === 4.执行顺序：=== //\n  // === 4.1 事件循环的顺序是从script开始第一次循环，随后全局上下文进入函数调用栈，碰到macro-task就将其交给处理它的模块处理完之后将回调函数放进macro-task的队列之中，碰到micro-task也是将其回调函数放进micro-task的队列之中。 === //\n  // === 4.2 直到函数调用栈清空只剩全局执行上下文，然后开始执行所有的micro-task。当所有可执行的micro-task执行完毕之后。=== //\n  // === 4.3 循环再次执行macro-task中的一个任务队列，执行完之后再执行所有的micro-task，就这样一直循环。=== //\n\n  // === 5.分析如下代码： === //\n  // === 5.1 script任务源先执行，全局上下文入栈 === //\n  // === 5.2 script任务源的代码执行之前的。。。。，到这一步为止(这里才是重点) === //\n  // === 5.3 script任务源的代码的代码执行到 let key = 0, 入调用栈，执行，出栈 === //\n  // === 5.4 script任务源执行到setTimeout时，作为一个macro-task，将其回调放入自己的队列 === //\n  // === 5.5 script任务源执行到Promise实例时，Promise中的第一个参数直接执行，入栈执行后，即 key 此时为 1 ，resolve执行，状态变为 Fullfilled 出栈 === //\n  // === 5.6 script任务源执行到then，将其作为回调放入 micro-task 队列 === //\n  // === 5.7 script任务源执行到 return，此时 macro-task 中的script执行完毕 === //\n  // === 5.8 接着先执行 micro-task 队列中的任务，then的回调入栈执行后出栈，key变为 2 === //\n  // === 5.9 接着执行 macro-task 队列中的任务，setTimeout的回调入栈执行后出栈，key变为 1，满足条件，执行了setState === //\n\n  let key = 0\n\n  setTimeout(() => {\n\n    --key\n\n    if (key === 1) {\n      this.setState({\n        title: `${this.state.title}-blur`,\n      })\n    }\n\n  }, 0)\n\n\n  new Promise(function (resolve, reject) {\n\n    ++key\n    resolve()\n\n  })\n    .then(function (resolve, reject) {\n\n      ++key\n\n    })\n\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hackGreen\":\"#00F900\",\"header\":\"header_2vJyv\",\"search-wrap\":\"search-wrap_1gAH-\",\"search-inp\":\"search-inp_3ceww\",\"search-btn\":\"search-btn_3kVmT\",\"search-list\":\"search-list_DsHZu\",\"search-item\":\"search-item_abfKi\",\"item-link\":\"item-link_2h7-A\"};","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nimport style from './index.css'\n\nimport { escapeHtml } from '../../../lib/xss'\nimport { actions as ArticleLinkListActions } from '../../redux/ArticleLinkList'\nimport { actions as PopupActions } from '../../redux/Popup'\nimport eventloop from './eventloop'\nimport searchResult from './searchResult'\nimport num2money from './num2money'\nimport calcHandle from './calcHandle'\nimport palindrome from './palindrome'\nimport titleHandle from './titleHandle'\nimport config from '../../../../config'\n\nconst { get_article_link_list } = ArticleLinkListActions\nconst { update_popup } = PopupActions\n\n// === 原生键盘类事件 === //\n// === 1.触发顺序: focus - keydown - keypress - input - keyup - change - blur  === //\n// === 2.触发时机：focus - 聚焦时 ; keydown / keypress / input - 按下键盘时，其中keypress不可通过特殊键触发，input是真正改变文本框内容的时机； change - 改变 ; blur - 失焦时 === //\n// === react中：input 和 change 同时改变state的话，input的失效，change会代替input === //\n\n@connect(\n  state => state.ArticleLinkListReducer,\n  {get_article_link_list, update_popup}\n)\nexport default class Search extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      key: '',\n      selectedData: [],\n      title: titleHandle(),\n      isFocus: false,\n      isDetectKeyEvent: false\n    }\n\n    this.focusHandle = ::this.focusHandle\n    this.keydownHandle = ::this.keydownHandle\n    this.keypressHandle = ::this.keypressHandle\n    this.inputHandle = ::this.inputHandle\n    this.keyupHandle = ::this.keyupHandle\n    this.changeHandle = ::this.changeHandle\n    this.blurHandle = ::this.blurHandle\n\n  }\n  \n  static defaultProps = {\n    data: []\n  }\n\n  /**\n   * focus事件处理程序\n   */\n  focusHandle () {\n\n    // this.$list.classList.remove('hide')\n\n  }\n\n  /**\n   * keydown事件处理程序\n   */\n  keydownHandle (e) {\n\n    if (e.keyCode === 186) {\n      this.setState({\n        isDetectKeyEvent: true,\n        title: `focus-keydown`\n      })\n    }\n\n  }\n\n  /**\n   * keypress事件处理程序\n   */\n  keypressHandle (e) {\n\n    if (this.state.isDetectKeyEvent) {\n      this.setState({\n        title: `${this.state.title}-keypress`\n      })\n      return\n    }\n\n    if (e.type === 'keypress' && e.key !== 'Enter') {\n      return\n    }\n\n    const key = this.state.key\n\n    // 回文\n    if (this::palindrome(key)) {\n      return\n    }\n\n    // 拦截器\n\n    // 跳转\n    window.open(`/search?title=${encodeURIComponent(key)}&page_num=0&per_page=10`)\n  }\n\n  /**\n   * input事件处理程序\n   */\n  inputHandle () {\n\n    if (this.state.isDetectKeyEvent) {\n      this.setState({\n        title: `${this.state.title}-input`\n      })\n    }\n    \n  }\n\n  /**\n   * keyup事件处理程序\n   */\n  keyupHandle () {\n  \n    if (this.state.isDetectKeyEvent) {\n      this.setState({\n        title: `${this.state.title}-keyup`\n      })\n    }\n    \n  }\n\n  /**\n   * change事件处理程序\n   */\n  changeHandle (e) {\n\n    if (this.state.isDetectKeyEvent) {\n      this.setState({\n        title: `${this.state.title}-change`\n      })\n      return\n    }\n\n    // 计算\n    if (this::calcHandle()) {\n      return\n    }\n\n    // 数字格式化为千分位money格式\n    if (this::num2money()) {\n      return\n    }\n\n    // 正常搜索结果处理\n    this::searchResult(e)\n\n  }\n\n  /**\n   * blur事件处理程序\n   */\n  blurHandle (e) {\n\n    if (this.state.isDetectKeyEvent && e.type !== 'click') {\n      this::eventloop()\n    }\n\n  }\n\n  render () {\n\n    return (\n      <header className={style['header']}>\n        <h1 className=\"page-title hide\">张益铭的前端小博客</h1>\n        <div className={style['search-wrap']}>\n          <input type=\"text\"\n                 className={style['search-inp']}\n                 value={this.state.key}\n                 onFocus={this.focusHandle}\n                 onKeyDown={this.keydownHandle}\n                 onInput={this.inputHandle}\n                 onKeyUp={this.keyupHandle}\n                 onKeyPress={this.keypressHandle}\n                 onChange={this.changeHandle}\n                 onBlur={this.blurHandle}\n                 placeholder={escapeHtml(this.state.title)}\n          />\n          <input type=\"button\"\n                 className={style['search-btn']}\n                 onClick={this.keypressHandle}\n                 value={'搜索'}\n          />\n          <ul className={`${style['search-list']} ${this.state.selectedData.length === 0 ? 'hide' : ''}`} ref={list => this.$list = list}>\n            {\n              this.state.selectedData.map(item => (\n                <li className={style['search-item']} key={item.id}>\n                  <Link target=\"_blank\" to={`/article/${item.id}`} className={style[\"item-link\"]}>{item.name}</Link>\n                </li>\n              ))\n            }\n          </ul>\n        </div>\n      </header>\n    )\n  }\n\n  componentDidMount () {\n    \n    if (this.props.data.length === 0) {\n      this.props.get_article_link_list()\n    }\n\n    document.body.addEventListener('click', this.blurHandle, false)\n\n  }\n\n  componentWillUnmount () {\n    document.body.removeEventListener('click', this.blurHandle, false)\n  }\n}\n\nif (config.ISDEV) {\n  Search.propTypess = {\n    data: PropTypes.arrayOf(\n      PropTypes.object.isRequired\n    ).isRequired\n  }\n}\n","import reg from '../../../lib/reg'\n\n/**\n * 将任意长数字变成逗号分隔\n * 通过前缀 $: 激活\n * @return {Boolean}\n */\nexport default function () {\n  let str = this.state.key\n\n  if (str.indexOf('$:') !== 0) {\n    return false\n  }\n\n  str = str.slice(2)\n    .trim()\n    .replace(reg.num2money, ',')\n\n  this.setState({\n    key: str\n  })\n\n  return str\n}","/**\n * 判断回文\n * // === 回文：正着倒着都一样 === //\n * // === 改变字符最容易的思路：转成数组操作后再转回 === //\n * @param {String} key - 字符\n * @return {Boolean}\n */\nexport default function (key) {\n\n  if (key !== key.split('').reverse().join('')) {\n    return false\n  }\n\n  this.props.update_popup({\n    isOpen: 1,\n    header: 'Warning:',\n    content: '回文是吧？不行不行~~'\n  })\n\n  return true\n\n}\n","export default function (e) {\n  // 修改key\n  const key = e.target.value\n\n  // 空则\n  if (key === '') {\n    this.setState({\n      key,\n      selectedData: []\n    })\n    return\n  }\n\n  // 修改selectedData\n  let selectedData = []\n  this.props.data.forEach(item => {\n    let pos = item.name.indexOf(key)\n    if ( pos > -1) {\n      selectedData.push({\n        ...item,\n        pos\n      })\n    }\n  })\n\n  // 排序\n  selectedData = selectedData.sort(function (prev, next) {\n    return prev - next\n  })\n\n  // 改变状态\n  this.setState({\n    key,\n    selectedData\n  })\n}","/**\n * 处理title\n * @return {String}\n */\nexport default function () {\n\n  // server端\n  if (typeof window === 'undefined') {\n    return ''\n  }\n\n  // 没有则不处理\n  const search = window.location.search\n  if (search === '') {\n    return ''\n  }\n\n  // 从url中获取title\n  const querys = decodeURIComponent(search.slice(1))\n\n  let paramsObj = {}\n\n  querys.split('&').forEach(item => {\n    const key = item.split('=')[0]\n    const val = item.split('=')[1]\n    paramsObj[key] = val\n  })\n\n  return paramsObj.title || paramsObj.tag\n}","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hackGreen\":\"#00F900\",\"shadowGreen\":\"rgba(0, 249, 0, .5)\",\"article-list\":\"article-list_3igXC\",\"article-item\":\"article-item_KVfIm\",\"item-tt\":\"item-tt_nM5RF\",\"item-info\":\"item-info_3e4C8\",\"info-tag\":\"info-tag_xeucm\",\"item-cover--LatestList\":\"item-cover--LatestList_2VFsX\",\"item-summary\":\"item-summary_szdsr\",\"data-read\":\"data-read_1vcPC\",\"data-comments\":\"data-comments_2ssWA\",\"works--list\":\"works--list_3CPXw\",\"item-cover--WorksItem\":\"item-cover--WorksItem_269-7\",\"link\":\"link_2zcZu\"};","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport config from '../../../../config'\nimport Img from '../Img'\n\nimport style from './index.css'\n\nconst getSrc = src => config.FILE_SERVER_DOMAIN + src\n// === 代理模式: 当客户不方便直接访问一个对象或者不满足需要的时候，提供一个替身对象来控制对本体对象的访问，客户实际上访问的是替身对象。替身对象对请求做出一些处理之后，再把请求转交给本体对象。 === //\n// === 1 类型: === //\n// === 1.1 保护代理 === //\n// === 1.2 虚拟代理 === //\n// === 1.3 缓存代理 === //\n// === 2 注意点: 代理对象和本体对象都对外提供一致的接口，用户并不请求代理和本体的区别，代理接手请求的过程对于用户来说是透明的。 === //\n\nclass LatestItem extends Component {\n  constructor (props) {\n    super(props)\n\n  }\n  static defaultProps = {\n    title: '',\n    link: '',\n    summary: '',\n    pubtime: '',\n    tag: '',\n    cover_url: ''\n  }\n\n  render () {\n\n    return (\n      <li className={style['article-item']}>\n        <Img src={getSrc(this.props.cover_url)} alt=\"\" className={`${style['item-cover--LatestList']} fr`}/>\n        <Link className={style['link']} target=\"_blank\" to={`/article/${this.props.id}`}>\n          <h3 className={style['item-tt']}>{this.props.title}</h3>\n        </Link>\n        <p className={style['item-summary']}>{this.props.summary}</p>\n        <p className={`${style['item-info']} clearfix`}>\n          <span className={style['info-pubtime']}>{this.props.pubtime}</span>\n          <span className={`${style['info-tag']}`}>{this.props.tag}</span>\n        </p>\n      </li>\n    )\n  }\n}\n\nif (config.ISDEV) {\n  LatestItem.propTypes = {\n    title: PropTypes.string.isRequired,\n    link: PropTypes.string.isRequired,\n    summary: PropTypes.string.isRequired,\n    pubtime: PropTypes.string.isRequired,\n    tag: PropTypes.string.isRequired,\n    cover: PropTypes.string.isRequired\n  }\n}\n\nclass BestItem extends Component {\n  constructor (props) {\n    super(props)\n\n  }\n  static defaultProps = {\n    read_num: 0,\n    comment_num: 0,\n    liked_num: 0,\n    title: '',\n    link: '',\n    pubtime: '',\n    tag: ''\n  }\n\n  render () {\n    return (\n      <li className={style['article-item']}>\n        <p className={`${style['item-data']} fr`}>\n          浏览数：<span className={style['data-read']}>{this.props.read_num}</span>\n          评论数：<span className={style['data-comments']}>{this.props.comment_num}</span>\n          点赞数：<span className={style['data-like']}>{this.props.liked_num}</span>\n        </p>\n        <Link className={style['link']} target=\"_blank\" to={`/article/${this.props.id}`}>\n          <h3 className={style['item-tt']}>{this.props.title}</h3>\n        </Link>\n        <p className={style['item-info']}>\n          <span className={style['info-pubtime']}>{this.props.pubtime}</span>\n          <span className={`${style['info-tag']} fr`}>{this.props.tag}</span>\n        </p>\n      </li>\n    )\n  }\n}\n\nif (config.ISDEV) {\n  BestItem.propTypes = {\n    read_num: PropTypes.number.isRequired,\n    comment_num: PropTypes.number.isRequired,\n    liked_num: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    link: PropTypes.string.isRequired,\n    pubtime: PropTypes.string.isRequired,\n    tag: PropTypes.string.isRequired\n  }\n}\n\nclass WorksItem extends Component {\n  constructor (props) {\n    super(props)\n\n  }\n  static defaultProps = {\n    imgSrc: '',\n    imgAlt: '',\n    link: '',\n    title: '',\n    sourceLink: '',\n    demoLink: '',\n    githubLink: '',\n  }\n\n  render () {\n    return (\n      <li className={style['article-item']}>\n        <Img src={getSrc(this.props.imgSrc)} alt={this.props.imgAlt} className={style['item-cover--WorksItem']}/>\n        <Link className={style['link']} to={this.props.link}>\n          <h3 className={style['item-tt']}>{this.props.title}</h3>\n        </Link>\n        <p className={style['item-info']}>\n          <Link to={this.props.sourceLink} className={style['link']}>源码解析</Link>\n          <Link to={this.props.demoLink} className={style['link']}>查看演示</Link>\n          <Link to={this.props.githubLink} className={style['link']}>github地址</Link>\n        </p>\n      </li>\n    )\n  }\n}\n\nif (config.ISDEV) {\n  WorksItem.propTypes = {\n    imgSrc: PropTypes.string.isRequired,\n    imgAlt: PropTypes.string.isRequired,\n    link: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    sourceLink: PropTypes.string.isRequired,\n    demoLink: PropTypes.string.isRequired,\n    githubLink: PropTypes.string.isRequired\n  }\n}\n\nexport { LatestItem, BestItem, WorksItem }\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { api } from '../../fetch/axios'\nimport config from '../../../../config'\n\nimport './index.css'\n\nexport default class Image extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      src: this.props.defaultSrc || ''\n    }\n\n  }\n\n  static defaultProps = {\n    src: ''\n  }\n\n  /**\n   * 加载loadingGif\n   */\n  getLoadingGif () {\n\n    api.getIndexStorage()\n      .then(res => {\n\n        for (const key in res.data) {\n          localStorage.setItem(key, res.data[key])\n        }\n\n        this.setState({\n          src: localStorage.getItem('loadingGif')\n        })\n\n      })\n      .catch(err => {\n        console.error(err.message)\n      })\n\n  }\n  \n  // === react中用 new Image() 加载不了图片的bug: === //\n  /*\n  \n    context: undefined,\n    onerror: ƒ (e),\n    onload: ƒ (),\n    props: undefined,\n    refs: {},\n    src: \"https://avatars2.githubusercontent.com/u/20942047?v=4\",\n    state: {src: \"\"},\n    updater: {isMounted: ƒ, enqueueForceUpdate: ƒ, enqueueReplaceState: ƒ, enqueueSetState: ƒ},\n    isMounted: (...),\n    replaceState: (...)\n  \n  */\n  // === 1 原因: 可能是因为 react 对于 原生的Image进行了覆盖 === //\n  // === 2 解决: 需要手动引用挂载到window上的 Image 或者 document.createElement('img') === //\n\n  /**\n   * 预加载\n   */\n  preload () {\n\n    let img = new window.Image\n    img.src = this.props.src\n\n    img.onload = () => {\n      this.setState({\n        src: img.src\n      })\n    }\n    img.onerror = (e) => {\n      console.error(e)\n    }\n  }\n\n  render () {\n    return (\n      <img src={this.state.src} className={this.props.className} alt={this.props.alt}/>\n    )\n  }\n\n  componentDidMount () {\n\n    this.props.src && this.preload()\n\n    // 有特指定默认图片则不用 laoding.gif\n    if (this.props.defaultSrc) {\n      return\n    }\n    \n    const loadingGif = localStorage.getItem('loadingGif')\n\n    if (loadingGif) {\n\n      this.setState({\n        src: loadingGif\n      })\n\n    } else {\n\n      this.getLoadingGif()\n\n    }\n\n  }\n}\n\nif (config.ISDEV) {\n  Image.propTypes = {\n    src: PropTypes.string,\n    defaultSrc: PropTypes.string,\n    alt: PropTypes.string,\n    className: PropTypes.string\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"load-more-area\":\"load-more-area_JawNV\",\"icon-loading\":\"icon-loading_3Fn_e\"};","import React, { Component } from 'react'\n\nimport style from './index.css'\n\n// === 无状态组件: 使用无状态函数构建的组件 === //\n// === 1 与React.Component的异同: === //\n// === > 同: 都接受props和context, 都可设置静态属性propsType和defaultProps === //\n// === > 异: 无state和声明周期, 创建时始终保持一个实例, 避免了不必要的检查和内存分配 === //\n\nconst LoadMore = (props) => {\n  return (\n    <div className={style['load-more-area']} ref={props.loadMoreRef}>\n      {\n        props.is_end_page\n          ? <p>数据已全部加载</p>\n          : <p>下拉加载更多 <i className={style['icon-loading']} /></p>\n      }\n    </div>\n  )\n}\n\nexport default LoadMore\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\nimport { Route, Link } from 'react-router-dom'\n\nimport './index.css'\n\nclass Nav extends Component {\n  constructor (props) {\n    super(props)\n  }\n\n  render () {\n    return (\n      <nav className='nav'>\n        <ul className='nav-list nav-tabs'>\n          <li className='nav-item'>\n            <Link className='link' to='/'>\n              <h2 className='nav-title'>最新文章\n                <i className='icon iconfont icon-magic' />\n              </h2>\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link className='link' to='/bestlist'>\n              <h2 className='nav-title'>最佳博文\n                <i className='icon iconfont icon-medal_light' />\n              </h2>\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link className='link' to='/category'>\n              <h2 className='nav-title'>博文分类\n                <i className='icon iconfont icon-circle' />\n              </h2>\n            </Link>\n          </li>\n          <li className='nav-item'>\n            <Link className='link' to='/works'>\n              <h2 className='nav-title'>作品集\n                <i className='icon iconfont icon-selection' />\n              </h2>\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    )\n  }\n}\n\nexport default Nav\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"popup-wrap\":\"popup-wrap_1piIX\",\"popup-bg\":\"popup-bg_5lxgx\",\"drag-area\":\"drag-area_2639x\",\"btn-close\":\"btn-close_145ZU\",\"popup-body\":\"popup-body_1iDK1\",\"popup-open\":\"popup-open_2VJxm\",\"popupOpen\":\"popupOpen_18Mif\",\"popup-close\":\"popup-close_2GKJ3\",\"popupClose\":\"popupClose_3OZxL\"};","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport { actions as PopupActions } from '../../redux/Popup'\nimport config from '../../../../config'\n\nimport style from './index.css'\n\n// === immutablejs:  === //\n// === 1 优点: === //\n// === 1.1 减少内存使用 === //\n// === 1.2 并发安全 === //\n// === 1.3 降低项目复杂度 === //\n// === 1.4 便于比较复杂的数据结构, 定制 shouldComponentUpdate 方便 === //\n// === 1.5 时间旅行功能 === //\n// === 1.6 函数式编程 === //\n// === 2 缺点: === //\n// === 2.1 库的大小 === //\n// === 2.2 对先有项目入侵太严重, 新项目可用 === //\n\n@connect(\n  state => state.PopupReducer,\n  {...PopupActions}\n)\nexport default class Popup extends PureComponent {\n  constructor (props) {\n    super(props)\n\n    this.mousedownHandle = ::this.mousedownHandle\n    this.mousemoveHandle = ::this.mousemoveHandle\n    this.mouseupHandle = ::this.mouseupHandle\n    this.closeHandle = ::this.closeHandle\n\n  }\n\n  static defaultProps = {\n    isOpen: 'default',\n    header: '',\n    content: '',\n    question: '',\n    yesText: '',\n    noText: '',\n    dragging: false,\n    diffX: 0,\n    diffY: 0,\n    left: '50%',\n    top: '50%',\n  }\n\n\n  drawBg () {\n\n    let $canvas = this.$canvas\n    const canvasWidth = $canvas.width\n    const canvasHeight = $canvas.height\n\n    if ($canvas.getContext) {\n\n      let ctx = $canvas.getContext('2d')\n\n      ctx.fillStyle = 'rgba(0,0,0,.6)'\n\n      // border\n      ctx.beginPath()\n\n      ctx.strokeStyle = 'rgb(44,170,42)'\n      ctx.lineWidth = 2\n      ctx.lineCap = 'square'\n\n      ctx.moveTo(10, 1)\n      ctx.lineTo(canvasWidth - 10, 1)\n      ctx.lineTo(canvasWidth - 1, 10)\n      ctx.lineTo(canvasWidth - 1, canvasHeight)\n      ctx.lineTo(1, canvasHeight)\n      ctx.lineTo(1, 10)\n      ctx.closePath()\n      ctx.stroke()\n\n      // canvasModal's navBox\n      ctx.beginPath()\n\n      ctx.lineCap = 'square'\n\n      ctx.moveTo(10, 5)\n      ctx.lineTo(canvasWidth - 10, 5)\n      ctx.lineTo(canvasWidth - 5, 10)\n      ctx.lineTo(canvasWidth - 5, 30)\n      ctx.lineTo(5, 30)\n      ctx.lineTo(5, 10)\n      ctx.lineTo(10, 5)\n\n      ctx.moveTo(canvasWidth - 33, 5)\n      ctx.lineTo(canvasWidth - 33, 30)\n\n      ctx.closePath()\n      ctx.fillStyle = '#004100'\n      ctx.fill()\n      ctx.stroke()\n\n    }\n\n  }\n\n  /**\n   * 主体内容接口\n   */\n  createBody () {}\n\n  /**\n   * 按下鼠标时记录鼠标位置与左上角的差值\n   */\n  mousedownHandle (e) {\n\n    if (typeof e.target.className === 'string' && e.target.className.indexOf('drag-area') > -1) {\n      this.props.update_popup({\n        dragging: true,\n        diffX: e.clientX - this.$wrap.offsetLeft,\n        diffY: e.clientY - this.$wrap.offsetTop\n      })\n\n    }\n\n  }\n\n  /**\n   * 移动时需要减去按下时的差值\n   */\n  mousemoveHandle (e) {\n\n    if (this.props.dragging) {\n      this.props.update_popup({\n        // 当移动时，不再需要margin的居中，则需要补回这段距离\n        left: `${e.clientX - this.state.diffX + 250}px`,\n        top: `${e.clientY - this.state.diffY + 80}px`\n      })\n    }\n\n  }\n\n  /**\n   * 释放鼠标时需要改变状态\n   */\n  mouseupHandle () {\n\n    this.props.update_popup({\n      dragging: false\n    })\n\n  }\n\n  /**\n   * 关闭弹窗\n   */\n  closeHandle () {\n\n    this.props.update_popup({\n      isOpen: -1,\n    })\n\n  }\n\n  render () {\n\n    const wrapStyle = {\n      left: this.props.left,\n      top: this.props.top,\n      margin: '-80px 0 0 -250px',\n    }\n\n    return (\n      <div\n        ref={$wrap => this.$wrap = $wrap}\n        className={`${style['popup-wrap']} ${this.props.isOpen === 'default' ? '' : style[this.props.isOpen === 1 ? 'popup-open' : 'popup-close']}`}\n        style={wrapStyle}\n      >\n        <div className={style['popup-bg']}>\n          <a href=\"javascript:;\" className={style['btn-close']} onClick={this.closeHandle}>X</a>\n          <div className={style['drag-area']}>{this.props.header}</div>\n          <canvas ref={$canvas => this.$canvas = $canvas} className={style['canvas']} width='500' height='160'></canvas>\n        </div>\n        <div className={style['popup-body']}>\n          {this.props.content}\n        </div>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n\n    this.drawBg()\n\n    document.addEventListener('mousedown', this.mousedownHandle, false)\n    document.addEventListener('mousemove', this.mousemoveHandle, false)\n    document.addEventListener('mouseup', this.mouseupHandle, false)\n\n  }\n\n  componentWillUnmount () {\n\n    this.props.update_popup({\n      isOpen: 'default'\n    })\n\n    document.removeEventListener('mousedown', this.mousedownHandle, false)\n    document.removeEventListener('mousemove', this.mousemoveHandle, false)\n    document.removeEventListener('mouseup', this.mouseupHandle, false)\n\n  }\n\n}\n\nif (config.ISDEV) {\n  Popup.propTypes = {\n    isOpen: PropTypes.number,\n    header: PropTypes.string.isRequired,\n    content: PropTypes.string,\n    question: PropTypes.string,\n    yesText: PropTypes.string,\n    noText: PropTypes.string\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hackGreen\":\"#00F900\",\"article-page\":\"article-page_3m6Uw\",\"nav-move-list\":\"nav-move-list_3WSJl\",\"header\":\"header_3UkAJ\",\"header-location\":\"header-location_1hrFt\",\"header-search\":\"header-search_3PyHl\",\"header-control\":\"header-control_3ZIN4\",\"title\":\"title_1MD6f\",\"item-link\":\"item-link_17n9Q\",\"location-link\":\"location-link_1QKJV\",\"container\":\"container_2p67p\",\"main-block\":\"main-block_3n31y\",\"aside\":\"aside_2Lw2_\",\"nav\":\"nav_9MEc0\",\"main-inner\":\"main-inner_5Uylg\",\"btn-like\":\"btn-like_2zrNW\",\"icon--unliked\":\"icon--unliked_2UpG4\",\"icon--liked\":\"icon--liked_3lBPM\",\"article\":\"article_ID3mx\",\"article-tt\":\"article-tt_1Ioca\",\"article-desc-list\":\"article-desc-list_2aGb2\",\"article-desc-item\":\"article-desc-item_IxIhu\"};","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport remark from 'remark'\nimport remarkReact from 'remark-react'\n\nimport config from '../../../../config'\nimport { actions as ArticleActions } from '../../redux/Article'\nimport { actions as PopupActions } from '../../redux/Popup'\nimport Comment from '../../components/Comment'\n\nimport style from './index.css'\n\n@connect(state => state.ArticleReducer, {...ArticleActions})\n@connect(\n  state => ({\n    user_id: state.UserReducer.id\n  })\n)\n@connect(null, {...PopupActions})\nexport default class Article extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      name: '',\n      email: '',\n      isMemoried: false,\n      commentContent: '请发表您的评论！'\n    }\n\n    this.handleInputChange = ::this.handleInputChange\n    this.likedHandle = ::this.likedHandle\n  }\n\n  static defaultProps = {\n    id: 0,\n    title: '',\n    summary: '',\n    content: '',\n    pubtime: '',\n    comment_num: 0,\n    read_num: 0,\n    category_id: 0,\n    prev_id: 0,\n    prev_title: '',\n    next_id: 0,\n    prev_title: '',\n    comments: [],\n    liked: []\n  }\n\n  componentWillMount () {\n\n  }\n\n  handleInputChange (e) {\n    const target = e.target\n    const value = target.type === 'checkbox' ? target.checked : target.valueOf\n    const name = target.name\n    this.setState({\n      [name]: value\n    })\n  }\n\n  getUniqueWordsNum (str) {\n\n    return new Set(str).size\n\n  }\n\n  // === xss防御之富文本过滤: === //\n  // === 1 黑名单: 给出不通过的代码, 如`<script>`, `javascript:;`, `onerror`，但太多要考虑 === //\n  // === 1.1 实现原理: 正则替换 === //\n  // === 2 白名单：给出通过的代码，其它一律不通过, 如`img: src, alt, title`, 用于输入检出 / 输出检查，可用插件xss === //\n  // === 2.1 实现原理: 现将html解析成dom树, 遍历每个元素，只留下允许的，再返回新的字符 === //\n\n  contentHandle () {\n    const content = remark().use(remarkReact).processSync(this.changeImgUrl(this.props.content)).contents\n    // console.log(content)\n    // console.log(xss(content))\n    // return xss(content, {\n    //   whiteList: {\n    //     a: ['href', 'target'],\n    //     img: ['src', 'alt', 'title'],\n    //     p: [],\n    //     span: []\n    //   }\n    // })\n    return content\n  }\n\n  /**\n   * 改变图片uri链接\n   * @param {String} content - 文章内容\n   * @return {String}\n   */\n  changeImgUrl (content) {\n    return content.replace(/!\\[(.+?)\\]\\((.+?)\\)/g, `![$1](${config.FILE_SERVER_DOMAIN}$2)`)\n  }\n\n  /**\n   * 点赞处理\n   */\n  likedHandle (e) {\n\n    if (!window.localStorage.getItem('access_token')) {\n      return this.props.update_popup({\n        isOpen: 1,\n        header: '提示:',\n        content: '请先登录'\n      })\n    }\n\n    // === target 与 currentTarget: === //\n    // === 1 currentTarget: 绑定事件的对象, 若想要获取的目标元素有子元素, 最好对目标元素进行事件绑定并通过 currentTarget 获取 === //\n    // === 2 target: 触发事件的对象, 如有嵌套的div，对父级div绑定click事件，当点击子div时，currentTarget为父div，target为子div === //\n\n    const target = e.currentTarget\n    const has_liked = target.getAttribute('data-has-liked')\n    // 没有点赞过的情况\n    if (has_liked === 'false') {\n\n      this.props.add_liked({\n        type: 0,\n        status: 1,\n        article_id: this.props.id\n      })\n\n      return\n\n    }\n\n    // 点赞过的情况\n\n    // 找出liked_id\n    let liked_id\n    let liked_status\n    this.props.liked.forEach(item => {\n      if (item.user_id === this.props.user_id) {\n        liked_id = item.id\n        liked_status = item.status === 1 ? 0 : 1\n      }\n    })\n\n    if (!liked_id && !liked_status) {\n      return\n    }\n\n    this.props.update_liked({\n      id: liked_id,\n      status: liked_status,\n      article_id: this.props.id\n    })\n\n  }\n\n  /**\n   * 是否已经点赞过\n   */\n  hasLiked (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let flag = false\n    arr.forEach(item => {\n      if (item.user_id === this.props.user_id) {\n        flag = true\n      }\n    })\n\n    return flag\n\n  }\n\n  /**\n   * 获取点赞数\n   */\n  getLikedNum (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let num = 0\n    arr.forEach(item => {\n      if (item.status === 1) {\n        ++num\n      }\n    })\n    return num\n  }\n\n  /**\n   * 点赞状态\n   */\n  getLikedStatus (arr) {\n\n    if (!arr) {\n      return\n    }\n\n    let flag = false\n    arr.forEach(item => {\n      if (item.user_id === this.props.user_id && item.status === 1) {\n        flag = true\n      }\n    })\n\n    return flag\n\n  }\n\n  // === 语义化的优点： === //\n  // === 1.可读性更高，利于团队合作与开发 === //\n  // === 2.利于SEO === //\n  // === 3.利于屏幕阅读软件根据结构来读页面 === //\n  // === 4.一般可让HTML文件变的更小 === //\n  render () {\n    return (\n      <div className={style['article-page']}>\n        <header className={`${style['header']} ${style['clearfix']}`}>\n          <div className={style['header-search']}>\n            <input type=\"text\" className={style['search-inp']} placeholder='搜索点啥呗'/>\n            <input type=\"button\" value='🔍'/>\n          </div>\n          <div className={style['header-location']}>\n            <p className={style['location-text']}>\n              所在位置：<Link to={`/article/${this.props.id}`} className={style['location-link']}>{this.props.title}</Link>\n            </p>\n          </div>\n          <div className={style['header-control']}>\n            <ul className={style['control-list']}>\n              <li className={style['control-item']}>\n                <span className={style['title']}>上一篇:</span>\n                {\n                  this.props.prev_id == 0 ?\n                    <span>无</span> :\n                    <Link className={style['item-link']} target='_bank' to={`/article/${this.props.prev_id}`}>{this.props.prev_title}</Link>\n                }\n              </li>\n              <li className={style['control-item']}>\n                <span className={style['title']}>下一篇:</span>\n                {\n                  this.props.next_id == 0 ?\n                    <span>无</span> :\n                    <Link className={style['item-link']} target='_bank' to={`/article/${this.props.next_id}`}>{this.props.next_title}</Link>\n                }\n              </li>\n            </ul>\n          </div>\n        </header>\n        <div className={style['container']}>\n          {/* 主体开始 */}\n          <div className={style['main-block']}>\n            <main className={style['main-inner']}>\n              <article className={style['article']}>\n                <h1 className={style['article-tt']}>{this.props.title}</h1>\n                <ul className={`${style['article-desc-list']} clearfix`}>\n                  <li className={style['article-desc-item']}>作者：garven</li>\n                  <li>发表时间：\n                    <time className={style['pubdate']} dateTime={`${this.props.pubtime}T00:00`}>{this.props.pubtime}</time>\n                  </li>\n                  <li className={style['article-desc-item']}>浏览数：{this.props.read_num}</li>\n                  <li className={style['article-desc-item']}>点赞次数：\n                    {this.getLikedNum(this.props.liked)}\n                    <span className={style['btn-like']} onClick={this.likedHandle} data-has-liked={this.hasLiked(this.props.liked)}>\n                      {\n                        this.getLikedStatus(this.props.liked) ? (\n                          <svg t=\"1533042701079\" className={style[\"icon--liked\"]} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5991\" width=\"16\" height=\"16\">\n                            <path d=\"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z\" p-id=\"5992\" fill=\"#1afa29\"></path>\n                          </svg>\n                        ) : (\n                          <svg t=\"1533042671250\" className={style[\"icon--unliked\"]} viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5831\" width=\"16\" height=\"16\">\n                            <path d=\"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3-12.3 12.7-12.1 32.9 0.6 45.3l183.7 179.1-43.4 252.9c-1.2 6.9-0.1 14.1 3.2 20.3 8.2 15.6 27.6 21.7 43.2 13.4L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z\" p-id=\"5832\" fill=\"#1afa29\"></path>\n                          </svg>\n                        )\n                      }\n                    </span>\n                  </li>\n                  <li className={style['article-desc-item']}>评论数：{this.props.comment_num}</li>\n                  <li className={style['article-desc-item']}>有效字数：{this.getUniqueWordsNum(this.props.content)}</li>\n                  <li className={style['article-desc-item']}>简介：{this.props.summary}</li>\n                </ul>\n                {\n                  this.contentHandle()\n                }\n              </article>\n              <div className={style['comment-wrap']}>\n\n              </div>\n            </main>\n          </div>\n          {/* 右边栏开始 */}\n          {/* 左边栏开始 */}\n          <aside className={style['aside']}>\n            文章大纲\n          </aside>\n          {/* 左边栏结束 */}\n          <nav className={style['nav']}>\n            广告栏\n          </nav>\n          {/* 右边栏结束 */}\n          {/* 主体结束 */}\n        </div>\n        <Comment article_id={this.props.id}/>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n\n  }\n}\n\nif (config.ISDEV) {\n  Article.propTypess = {\n    title: PropTypes.string.isRequired,\n    summary: PropTypes.string.isRequired,\n    content: PropTypes.string.isRequired,\n    pubtime: PropTypes.string.isRequired,\n    comment_num: PropTypes.number.isRequired,\n    category_id: PropTypes.number.isRequired,\n    prev_id: PropTypes.number.isRequired,\n    prev_title: PropTypes.number.isRequired,\n    next_id: PropTypes.number.isRequired,\n    next_title: PropTypes.number.isRequired,\n    comments: PropTypes.arrayOf(PropTypes.object).isRequired,\n    liked: PropTypes.arrayOf(PropTypes.object).isRequired,\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"category-list\":\"category-list_2XKkf\",\"category-item\":\"category-item_3yWMK\",\"link\":\"link_2lphH\"};","import React, { PureComponent, Component } from 'react'\nimport { Link, Switch, Route } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport Header from '../../components/Header'\nimport Nav from '../../components/Nav'\nimport { actions as ArticleCategoryActions } from '../../redux/ArticleCategory'\nimport config from '../../../../config'\n\nimport style from './index.css'\n\nclass Tag extends PureComponent {\n  static defaultProps = {\n    name: '',\n    count: 0,\n    link: '',\n    total: ''\n  }\n\n  render () {\n    return (\n      <li className={style['category-item']}>\n        <Link className={style['link']} target='_blank' to={`/search?tag=${this.props.name}&page_num=0&per_page=10`}>{this.props.name}</Link>\n        [<span className={style['num']}>{this.props.count}</span>]\n      </li>\n    )\n  }\n}\n\nif (config.ISDEV) {\n  Tag.propTypes = {\n    link: PropTypes.string.isRequired,\n    count: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    total: PropTypes.number.isRequired\n  }\n}\n\n@connect(\n  state => ({\n    tagsList: state.ArticleCategoryReducer.data\n  }),\n  {...ArticleCategoryActions}\n)\nexport default class ArticleCategory extends Component {\n  constructor (props) {\n    super(props)\n\n  }\n\n  static defaultProps = {\n    tagsList: []\n  }\n\n  componentWillMount () {\n\n  }\n\n  render () {\n\n    return (\n      <div className=\"home-page\">\n        <Header/>\n        <main className=\"main\">\n          <Nav/>\n          <div className=\"category-block nav-details-item\">\n            <div className=\"nav-details-inner\">\n              <ul className={style['category-list']}>\n                {\n                  this.props.tagsList.map(item => (\n                    <Tag key={item.id} {...item}/>\n                  ))\n                }\n              </ul>\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n\n    if (this.props.tagsList.length === 0) {\n      this.props.get_category_list()\n    }\n\n  }\n}\n\nif (config.ISDEV) {\n  ArticleCategory.propTypes = {\n    tagsList: PropTypes.arrayOf(PropTypes.object).isRequired\n  }\n}\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"sso-iframe\":\"sso-iframe_1kMR3\",\"global-component-wrap\":\"global-component-wrap_18g8E\"};","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport detectWebp from '../../../lib/detectWebp'\nimport Cookies from '../../../lib/cookie'\nimport Popup from '../../components/Popup'\nimport axios, { getRespnseInterceptorsInfo, setResponseInterceptorsInfo } from '../../fetch/axios'\nimport config from '../../../../config'\nimport { actions as UserActions } from '../../redux/User'\nimport { actions as IframeActions } from '../../redux/Iframe'\n\nimport style from './index.css'\n\nconst { get_user } = UserActions\nconst { send_message, update_loaded_status } = IframeActions\n\n@connect(state => state.UserReducer, {get_user})\n@connect(state => state.IframeReducer, {send_message, update_loaded_status})\nexport default class Auth extends PureComponent {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      iframeNow: false\n    }\n\n    this.responseInterceptorsHandle = ::this.responseInterceptorsHandle\n    this.messageHandle = ::this.messageHandle\n    this.loadHandle = ::this.loadHandle\n\n  }\n\n  /**\n   * 响应拦截处理\n   */\n  responseInterceptorsHandle () {\n\n    // 响应拦截器\n    // 只进行一次\n    if (getRespnseInterceptorsInfo()) {\n      return\n    }\n\n    axios.interceptors.response.use(res => {\n\n      // blacklist\n      const notToCheckList = [\n        '/api/login',\n      ]\n\n      // token过期\n      if (res.status === 401 && !notToCheckList.some(item => item === res.config.url)) {\n        window.localStorage.removeItem('access_token')\n      }\n\n      // 更新token\n      if (res.data && res.data.access_token) {\n        window.localStorage.setItem('access_token', res.data.access_token)\n      }\n\n      // 若响应的状态码为4xx，则给予用户提示\n      if (res.status >= 400 && res.status < 500) {\n        return Promise.reject(res.data)\n      }\n\n      setResponseInterceptorsInfo()\n      return res.data\n    })\n\n  }\n\n  /**\n   * message事件处理\n   */\n  messageHandle (e) {\n\n    // origin白名单\n    const whitelist = [\n      config.SSO_DOMAIN,\n    ]\n\n    if (!whitelist.includes(e.origin)) {\n      return\n    }\n\n    switch (e.data.type) {\n\n      case 'responseAccessToken':\n\n        window.localStorage.setItem('access_token', e.data.access_token)\n        this.props.get_user()\n\n        break\n\n      case 'logout':\n\n        if (e.data.retCode !== 1) {\n          return\n        }\n        window.localStorage.removeItem('access_token')\n\n        break\n\n    }\n\n  }\n\n  detectWebpHandle () {\n\n    // 检测浏览器是否支持webp\n    detectWebp('alpha', function (feature, isSupport) {\n\n      // === 二级域名cookie共享： === //\n      // === cookie只能读写大于等于自己的域，因此同一级域名间的cookie共享需要将cookie设置到更高的域中 === //\n      if (isSupport) {\n        Cookies.set('supportWebp', '1', {\n          maxAge: 60 * 60 * 24 * 7,\n          domain: config.COOKIE_DOMAIN,\n          path: '/'\n        })\n      } else {\n        Cookies.set('supportWebp', '', {\n          maxAge: 60 * 60 * 24 * 7,\n          domain: config.COOKIE_DOMAIN,\n          path: '/'\n        })\n      }\n\n    })\n\n\n  }\n\n  componentWillMount () {\n\n    if (typeof window !== 'undefined') {\n\n      this.detectWebpHandle()\n\n      this.responseInterceptorsHandle()\n    }\n\n  }\n\n  /**\n   * iframe加载处理\n   */\n  loadHandle () {\n\n    this.props.update_loaded_status({\n      $iframe: this.$iframe,\n      hasLoaded: true\n    })\n\n  }\n\n  render () {\n    return (\n      this.state.iframeNow ?\n        <div className={'global-component-wrap'}>\n          <iframe ref={$iframe => this.$iframe = $iframe}\n                  src={`${config.SSO_DOMAIN}?from=${this.props.href || location.href}&noOwnIframe=true`}\n                  frameBorder=\"0\"\n                  className={style['sso-iframe']}\n                  onLoad={this.loadHandle}\n          />\n          <Popup/>\n        </div>\n        : <Popup/>\n    )\n  }\n\n  componentDidMount () {\n\n    // === ssr方案中iframe不会触发load事件: 若是在服务器端整合了react再发给前端, 此时不会触发iframe的 load 事件, 只有在客户端中进行第一次渲染时才会触发 load 事件 === //\n    // === 1 原因: 未查明, 估计是 renderToString 后iframe的 load事件 失效 ？？ === //\n    // === 2 解决办法: 只能在客户端中动态插入 iframe 才能触发其 load 事件 === //\n    this.setState({\n      iframeNow: true\n    })\n\n    // 接收消息\n    window.addEventListener('message', this.messageHandle, false)\n\n    // 若redux中没有用户信息(如刷新页面后)\n    const access_token = window.localStorage.getItem('access_token')\n    if (access_token) {\n      if (this.props.role !== -1) {\n        return\n      }\n      this.props.get_user()\n      return\n    }\n\n    this.props.send_message({\n      messageType: 'getAccessToken',\n      postFn: ($iframe) => {\n\n        $iframe.contentWindow.postMessage({\n          type: 'getAccessToken'\n        }, $iframe.src)\n\n      }\n    })\n\n  }\n\n  componentWillUnmount () {\n\n  }\n}\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { BestItem } from '../../components/HomeList/index'\nimport Header from '../../components/Header'\nimport Nav from '../../components/Nav'\nimport LoadMore from '../../components/LoadMore'\nimport { actions as ArticleListActions } from '../../redux/ArticleList'\nimport debounce from '../../../lib/debounce'\nimport config from '../../../../config'\n\nimport './index.css'\n\n@connect(state => state.bestReducer, {...ArticleListActions})\nexport default class BestArticle extends Component {\n  constructor (props) {\n    super(props)\n\n    this.loadMoreHandle = this.loadMoreHandle.bind(this)\n    this.debounce = null\n  }\n\n  static defaultProps = {\n    data: [],\n    page_num: 0,\n    per_page: 10,\n    total_count: 10,\n    is_end_page: false\n  }\n\n  componentWillMount () {\n    this.debounce = debounce(this.loadMoreHandle, 250)\n  }\n\n  render () {\n    return (\n      <div className=\"home-page\">\n        <Header/>\n        <main className=\"main\">\n          <Nav/>\n          <div className=\"best-article-block nav-details-item\">\n            <div className=\"nav-details-inner\" ref={div => this.$scrollWrap = div}>\n              <ul className=\"article-list best--list\">\n                {\n                  this.props.data.map(item => (\n                    <BestItem {...item} key={item.id} />\n                  ))\n                }\n                <LoadMore\n                  is_end_page={this.props.is_end_page}\n                  loadMoreRef={area => this.$area = area}\n                />\n              </ul>\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n  loadMoreHandle () {\n    const sHeight = window.screen.height\n    const top = this.$area.getBoundingClientRect().top\n\n    if (top < sHeight && !this.props.is_end_page) {\n      this.props.get_best_list(this.props.page_num + 1, this.props.per_page)\n    }\n  }\n  componentDidMount () {\n    // 第一页的数据\n    if (this.props.data.length === 0) {\n      this.props.get_best_list(0, 10)\n    }\n    this.$scrollWrap.addEventListener('scroll', this.debounce, false)\n  }\n  componentWillUnmount () {\n    this.$scrollWrap.removeEventListener('scroll', this.debounce, false)\n    this.debounce = null\n  }\n\n\n}\n\nif (config.ISDEV) {\n  BestArticle.propTypess = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    page_num: PropTypes.number.isRequired,\n    per_page: PropTypes.number.isRequired,\n    total_count: PropTypes.number.isRequired,\n    is_end_page: PropTypes.bool.isRequired\n  }\n}\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\n\nimport { WorksItem } from '../../components/HomeList/index'\nimport Header from '../../components/Header'\nimport Nav from '../../components/Nav'\n\nimport './index.css'\n\nexport default class CollectionOfWorks extends Component {\n  constructor (props) {\n    super(props)\n  }\n\n  componentWillMount () {\n  }\n\n  render () {\n    return (\n      <div className='home-page'>\n        <Header />\n        <main className='main'>\n          <Nav />\n          <div className='collection-block nav-details-item'>\n            <div className='nav-details-inner'>\n              <WorksItem />\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n    document.title = '作品集 - 张益铭'\n  }\n}\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { LatestItem } from '../../components/HomeList/index'\nimport Header from '../../components/Header'\nimport Bg from '../../components/Bg'\nimport Nav from '../../components/Nav'\nimport LoadMore from '../../components/LoadMore'\nimport { actions as ArticleActions } from '../../redux/ArticleList'\nimport { actions as StorageActions } from '../../redux/Storage'\nimport debounce from '../../../lib/debounce'\nimport config from '../../../../config'\n\nimport './index.css'\n\nconst { get_latest_list } = ArticleActions\nconst { get_storage } = StorageActions\n\n// === 生命周期: === //\n// === 1 挂载或卸载: === //\n// === 1.1 constructor(props): 初始化组件, 绑定函数到this === //\n// === 1.2 componentWillMount(): 挂载前, 无法进行dom操作, 不能更新state, 一般用于配置根组件, 除此外能做的都可以在 constructor 中完成 === //\n// === 1.3 render(): 将虚拟dom插到到真实dom === //\n// === 1.4 componentDidMount(): 挂载后, 进行异步请求等 === //\n// === 1.5 componentWillUnMount(): 卸载前, 通常做的是 释放内存, 重置选项等\n//  === //\n// === 2 更新: === //\n// === 2.1 componentWillReceiveProps(nextProps) === //\n// === 2.2 shouldComponentUpdate(nextProps, nextState): 判断是否应该更新 === //\n// === 2.3 componentWillUpdate(nextProps, nextState): 更新前 === //\n// === 2.4 render(): 将虚拟dom中改变了的反映到真实dom === //\n// === 2.5 componentDidUpdate(): 更新后 === //\n\n// === 装饰器: === //\n// === 1 类的装饰: 必须在类的上一行写，用来修改类的行为, 将对象(函数/类)传入, 通过内部加强返回新的对象(函数/类) === //\n// === 1.1 例子: @connect === //\n/*\n@connect (mapStateToProps, mapDispatchToProps)\nclass Home {}\n\n// 等同于\n\nclass Home {}\nHome = connect (mapStateToProps, mapDispatchToProps)(Home)\n*/\n// === 配置: babel-plugin-transform-decorators-legacy + bebal plugins中 \"transform-decorators-legacy\" === //\n\n@connect(\n  state => state.latestReducer,\n  {get_latest_list, get_storage}\n)\nexport default class Home extends Component {\n  \n  constructor (props) {\n    super(props)\n\n    this.loadMoreHandle = ::this.loadMoreHandle\n    this.debounce = null\n\n  }\n  \n  // === defaultProps: 提供默认值，当父组件没有提供相应的props时就使用此 === //\n  static defaultProps = {\n    data: [{}],\n    page_num: 0,\n    per_page: 10,\n    total_count: 10,\n    is_end_page: false\n  }\n\n  componentWillMount () {\n\n    this.debounce = debounce(this.loadMoreHandle, 100).bind(this)\n\n  }\n\n  render () {\n    return (\n      <div className='home-page'>\n        <Bg/>\n        <Header/>\n        <main className=\"main\">\n          <Nav/>\n          <div className=\"latest-article-block nav-details-item\">\n            <div className=\"nav-details-inner\" ref={div => this.$scrollWrap = div}>\n              <ul className=\"article-list latest--list\">\n                {\n                  this.props.data.map(item => (\n                    <LatestItem {...item} key={item.id} />\n                  ))\n                }\n                <LoadMore\n                  is_end_page={this.props.is_end_page}\n                  loadMoreRef={area => this.$loadmore = area}\n                />\n              </ul>\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n  \n  /**\n   * 加载更多\n   * // === 判断条件：以底部的下拉提示框为目标，判断它 距离可视区顶部的距离(getBoundingClientRect().top()) 以及 可视区高度，若小于则证明出现在了可视区，此时应该去请求数据 === //\n   */\n  loadMoreHandle () {\n\n    const sHeight = window.screen.height\n    const top = this.$loadmore.getBoundingClientRect().top\n\n    if (top < sHeight && !this.props.is_end_page) {\n      this.props.get_latest_list(this.props.page_num + 1, this.props.per_page)\n    }\n\n  }\n\n  componentDidMount () {\n\n    // 第一页的数据\n    if (this.props.data.length === 0) {\n      this.props.get_latest_list(0, 10)\n    }\n    this.$scrollWrap.addEventListener('scroll', this.debounce, false)\n\n    // 存localStorage\n    !localStorage.getItem('loadingGif') && this.props.get_storage()\n\n  }\n\n  componentWillUnmount () {\n\n    this.$scrollWrap.removeEventListener('scroll', this.debounce, false)\n    this.debounce = null\n\n  }\n}\n\n// === propTypes: 会在 defaultProps 之后执行，因此对 defaultProps 也会检查 === //\nif (config.ISDEV) {\n  Home.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    page_num: PropTypes.number.isRequired,\n    per_page: PropTypes.number.isRequired,\n    total_count: PropTypes.number.isRequired,\n    is_end_page: PropTypes.bool.isRequired\n  }\n}\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react'\n\nimport './index.css'\n\nclass NoMatch extends Component {\n  constructor (props) {\n    super(props)\n  }\n\n  render () {\n    return (\n      <div className='NoMatch-page'>\n        404\n      </div>\n    )\n  }\n}\n\nexport default NoMatch\n","// removed by extract-text-webpack-plugin\nmodule.exports = {\"home-page\":\"home-page_3F-rO\",\"nav-details-item\":\"nav-details-item_1teX-\",\"article-search-block\":\"article-search-block_2Tg6P\",\"ant-pagination\":\"ant-pagination_3Cdwa\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { LatestItem } from '../../components/HomeList/index'\nimport Header from '../../components/Header'\nimport { actions as ArticleListActions } from '../../redux/ArticleList'\nimport config from '../../../../config'\n\nimport './index.css'\n\nconst { get_search_list } = ArticleListActions\n\n@connect(state => state.searchReducer, {get_search_list})\nexport default class SearchList extends Component {\n  constructor (props) {\n    super(props)\n\n    this.paginateHandle = this.paginateHandle.bind(this)\n  }\n\n  static defaultProps = {\n    data: [],\n    page_num: 0,\n    per_page: 10,\n    total_count: 10,\n    is_end_page: false\n  }\n\n  paginateHandle () {\n\n  }\n\n  render () {\n    return (\n      <div className=\"home-page\">\n        <Header/>\n        <main className=\"main\">\n          <div className=\"article-search-block nav-details-item\">\n            <div className=\"nav-details-inner\" ref={div => this.$scrollWrap = div}>\n              <ul className=\"article-list latest--list\">\n                {\n                  this.props.data.map(item => (\n                    <LatestItem {...item} key={item.id} />\n                  ))\n                }\n              </ul>\n            </div>\n          </div>\n        </main>\n      </div>\n    )\n  }\n\n  componentDidMount () {\n    if (this.props.data.length === 0) {\n      // 通过url获取参数\n      const querys = this.props.location.search.slice(1)\n      let paramsObj = {}\n      querys.split('&').forEach(item => {\n        const key = item.split('=')[0]\n        const val = item.split('=')[1]\n        paramsObj[key] = val\n      })\n      this.props.get_search_list(paramsObj.title, paramsObj.page_num, paramsObj.per_page)\n    }\n  }\n}\n\nif (config.ISDEV) {\n  SearchList.propTypess = {\n    articleList: PropTypes.arrayOf(PropTypes.object).isRequired,\n    page_num: PropTypes.number.isRequired,\n    per_page: PropTypes.number.isRequired,\n    total_count: PropTypes.number.isRequired,\n    is_end_page: PropTypes.bool.isRequired\n  }\n}\n","import Axios from 'axios'\nimport { connect } from 'react-redux'\n\nimport commonConfig from '../../../config'\n\n// === 状态码分类: === //\n/*\n\n1xx: 信息，服务器收到请求，需要请求者继续执行操作\n2xx: 成功，操作被成功接收并处理\n3xx: 重定向，需要进一步的操作以完成请求\n4xx: 客户端错误，请求包含语法错误或无法完成请求\n5xx: 服务器错误，服务器在处理请求的过程中发生了错误\n\n*/\n\nconst axios = Axios.create()\nexport default axios\n\n// 请求配置\n\nconst config = {\n\n  transformRequest: [\n    function (data) {\n      let ret = ''\n      for (let item in data) {\n        ret += `${encodeURIComponent(item)}=${encodeURIComponent(data[item])}&`\n      }\n      return ret\n    }\n  ],\n\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n    'Accept': 'application/hellojm.cn.v1+json'\n  },\n\n  // 5xx不显示给用户看\n  validateStatus: function (status) {\n    return status < 500\n  },\n\n  timeout: 10000,\n  responseType: 'json'\n}\n\n// 拦截器\n\naxios.interceptors.request.use(function (config) {\n  config.headers.Authorization = `Bearer ${window.localStorage.getItem('access_token')}`\n  return config\n})\n\n// 是否已设置响应拦截器, 只能设置一次, 不然会叠加\nlet isSetInterceptors = false\nexport function setResponseInterceptorsInfo () {\n  isSetInterceptors = true\n}\nexport function getRespnseInterceptorsInfo () {\n  return isSetInterceptors\n}\n\n// http 方法\nexport const get = url => axios.get(url, config)\nexport const post = (url, data) => axios.post(url, data, config)\nexport const del = url => axios.delete(url, config)\nexport const patch = (url, data) => axios.patch(url, data, config)\n\n// api 配置\n\nlet domainIndex = ''\nlet domainFileServer = commonConfig.FILE_SERVER_DOMAIN\n\nexport const api = {\n\n  // article\n  get_article_latestlist: (page_num, per_page) => get(`${domainIndex}/api/article/latestlist?page_num=${page_num}&per_page=${per_page}`),\n  get_article_bestlist: (page_num, per_page) => get(`${domainIndex}/api/article/bestlist?page_num=${page_num}&per_page=${per_page}`),\n  post_article: data => post(`${domainIndex}/api/article`, data),\n  get_article: id => get(`${domainIndex}/api/article?id=${id}`),\n  get_article_linkList: () => get(`${domainIndex}/api/article/linklist`),\n  get_article_alllist: () => get(`${domainIndex}/api/article/alllist`),\n  get_searchlist: (title, page_num, per_page) => get(`${domainIndex}/api/get_search_list?title=${title}&page_num=${page_num}&per_page=${per_page}`),\n\n  // category\n  get_category: () => get(`${domainIndex}/api/category`),\n\n  // works\n  get_works: () => get(`${domainFileServer}/api/works`),\n\n  // user\n  get_user: () => get(`${domainIndex}/api/user`),\n  logout: () => patch(`${domainIndex}/api/logout`),\n\n  // comment\n  get_comment: (article_id, page_num, per_page) => get(`${domainIndex}/api/comment?article_id=${article_id}&per_page=${per_page}&page_num=${page_num}`),\n  add_comment: (data) => post(`${domainIndex}/api/comment`, data),\n\n  // 获取点赞数\n  get_liked: (name, value, page_num, per_page) => get(`${domainIndex}/api/liked?${name}=${value}&per_page=${per_page}&page_num=${page_num}`),\n  add_liked: (data) => post(`${domainIndex}/api/liked`, data),\n  update_liked: (data) => patch(`${domainIndex}/api/liked`, data),\n\n  // other\n  getIndexStorage: () => get(`${domainIndex}/api/index/storage`),\n\n}\n","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { AppContainer } from 'react-hot-loader'\n\nimport { IndexRouteMap } from './router/index'\nimport store from './redux/store'\nimport config from '../../config'\n\nimport './assets/font/iconfont.css'\nimport './assets/style/reset.css'\nimport './router/index.css'\nimport '../../favicon.ico'\n\n// === 点击劫持防御 - 禁止内嵌: window有两个属性, top和parent, top指向最上层的window, parent指向父window, 可通过 top.location 与 window.location 对比来确定是否被内嵌 === //\nif (typeof window !== 'undifined' && top.location != window.location) {\n  top.location = window.location\n}\n\n// 入口\nrender()\n\n// hrm\nmodule.hot && module.hot.accept('./router', () => render())\n\n/**\n * render函数\n */\nfunction render () {\n  ReactDOM.render(\n    config.ISDEV\n      ? <AppContainer>\n        <Provider store={store}>\n          <IndexRouteMap />\n        </Provider>\n      </AppContainer>\n      : <Provider store={store}>\n        <IndexRouteMap />\n      </Provider>,\n    document.getElementById('root')\n  )\n}\n","import { api } from '../fetch/axios'\n\nconst initialState = {\n  id: 0,\n  title: '',\n  summary: '',\n  content: '',\n  pubtime: '',\n  article_type_id: 0,\n  prev_id: 0,\n  prev_title: 0,\n  next_id: 0,\n  prev_title: 0,\n  cover: '',\n  read_num: 0,\n  liked: [],\n  comment_num: 0,\n}\n\nexport const actionTypes = {\n  RESPONSE_ARTICLE: 'RESPONSE_ARTICLE',\n  ADD_LIKED: 'ADD_LIKED',\n  UPDATE_LIKED: 'UPDATE_LIKED',\n}\n\nexport const actions = {\n\n  get_article: (id) => dispatch => api.get_article(id)\n    .then(res => dispatch({\n      ...res.data,\n      type: actionTypes.RESPONSE_ARTICLE,\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  add_liked: (data) => dispatch => api.add_liked(data)\n    .then(res => dispatch({\n      type: actionTypes.ADD_LIKED,\n      article_id: data.article_id,\n      liked_id: res.id,\n      user_id: res.user_id\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  update_liked: (data) => dispatch => api.update_liked(data)\n    .then(res => dispatch({\n      type: actionTypes.UPDATE_LIKED,\n      liked_id: data.id,\n      article_id: data.article_id,\n      status: data.status\n    }))\n    .catch(err => {\n      console.error(err.message)\n    })\n\n\n}\n\nexport function reducer (state = initialState, action) {\n  switch (action.type) {\n\n    case actionTypes.RESPONSE_ARTICLE:\n      return {\n        ...state,\n        ...action\n      }\n\n    case actionTypes.ADD_LIKED:\n\n      const newItem = {\n        id: action.liked_id,\n        status: 1,\n        user_id: action.user_id\n      }\n\n      return {\n        ...state,\n        liked: state.liked.concat(newItem)\n      }\n\n    case actionTypes.UPDATE_LIKED:\n      return {\n        ...state,\n        liked: state.liked.map(item => {\n          if (item.id === action.liked_id) {\n            return {\n              ...item,\n              status: action.status\n            }\n          }\n          return item\n        })\n      }\n\n    default:\n      return state\n  }\n}\n","import { api } from '../fetch/axios'\n\nconst initialState = {\n  data: []\n}\n\nexport const actionTypes = {\n  GET_CATEGORY_LIST: 'GET_CATEGORY_LIST',\n}\n\nexport const actions = {\n  get_category_list: () => dispatch => api.get_category()\n    .then(res => dispatch({\n      type: actionTypes.GET_CATEGORY_LIST,\n      data: res.data\n    }))\n    .catch(err => {\n      console.error(err.message)\n    })\n}\n\nexport function reducer (state = initialState, action) {\n  \n  switch (action.type) {\n    case actionTypes.GET_CATEGORY_LIST:\n      return {\n        ...state,\n        data: [...action.data]\n      }\n    default:\n      return state\n  }\n}\n","import { api } from '../fetch/axios'\n\nconst initialState = {\n  data: []\n}\n\nexport const actionTypes = {\n  GET_ARTICLE_LINK_LIST: 'RESPONSE_CATEGORY_LIST',\n}\n\nexport const actions = {\n  get_article_link_list: () => dispatch => api.get_article_linkList()\n    .then(res => dispatch({\n      type: actionTypes.GET_ARTICLE_LINK_LIST,\n      data: res.data\n    }))\n    .catch(err => {\n      console.error(err.message)\n    })\n}\n\nexport function reducer (state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.GET_ARTICLE_LINK_LIST:\n      return {\n        ...state,\n        data: action.data\n      }\n    default:\n      return state\n  }\n}\n","import { api } from '../fetch/axios'\n\nconst initialStateForLatest = {\n  data: [],\n  page_num: 1,\n  per_page: 10,\n  total_count: 10,\n  is_end_page: false\n}\n\nconst initialStateForBest = {\n  data: [],\n  page_num: 1,\n  per_page: 10,\n  total_count: 10,\n  is_end_page: false\n}\n\nconst initialStateForSearch = {\n  data: [],\n  page_num: 1,\n  per_page: 10,\n  total_count: 10,\n  is_end_page: false\n}\n\nconst initialStateForAll = {\n  data: []\n}\n\nexport const actionTypes = {\n  GET_LATEST_LIST: 'GET_LATEST_LIST',\n  RESPONSE_LATEST_LIST: 'RESPONSE_LATEST_LIST',\n  GET_BEST_LIST: 'GET_BEST_LIST',\n  RESPONSE_BEST_LIST: 'RESPONSE_BEST_LIST',\n  GET_SEARCH_LIST: 'GET_SEARCH_LIST',\n  RESPONSE_SEARCH_LIST: 'RESPONSE_SEARCH_LIST',\n  GET_All_LIST:'GET_All_LIST',\n  RESPONSE_All_LIST: 'RESPONSE_All_LIST',\n  SORT_ALL_LIST: 'SORT_ALL_LIST'\n}\n\nexport const actions = {\n\n  get_latest_list: (page_num, per_page) => dispatch => api.get_article_latestlist(page_num, per_page)\n    .then(res => dispatch({\n      ...res,\n      type: actionTypes.RESPONSE_LATEST_LIST\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  get_best_list: (page_num, per_page) => dispatch => api.get_article_bestlist(page_num, per_page)\n    .then(res => dispatch({\n      ...res,\n      type: actionTypes.RESPONSE_BEST_LIST,\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  get_search_list: (title, page_num, per_page) => dispatch => api.get_searchlist(title, page_num, per_page)\n    .then(res => dispatch({\n      ...res,\n      type: actionTypes.RESPONSE_SEARCH_LIST,\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  get_all_list: (data) => ({\n      type: actionTypes.GET_All_LIST,\n      data\n    }),\n\n  sort_all_list: data => ({\n      type: actionTypes.SORT_ALL_LIST,\n      data\n    })\n}\n\nexport function latestReducer (state = initialStateForLatest, action) {\n  switch (action.type) {\n    case actionTypes.RESPONSE_LATEST_LIST:\n      return {\n        ...state,\n        data: state.data.concat(action.data),\n        page_num: action.page_num,\n        per_page: action.per_page,\n        total_count: action.total_count,\n        is_end_page: action.is_end_page\n      }\n    default:\n      return state\n  }\n}\n\nexport function bestReducer (state = initialStateForBest, action) {\n  switch (action.type) {\n    case actionTypes.RESPONSE_BEST_LIST:\n      return {\n        ...state,\n        data: state.data.concat(action.data),\n        page_num: action.page_num,\n        per_page: action.per_page,\n        total_count: action.total_count,\n        is_end_page: action.is_end_page\n      }\n    default:\n      return state\n  }\n}\n\nexport function searchReducer (state = initialStateForSearch, action) {\n  switch (action.type) {\n    case actionTypes.RESPONSE_SEARCH_LIST:\n      return {\n        ...state,\n        data: action.data,\n        page_num: action.page_num,\n        per_page: action.per_page,\n        total_count: action.total_count,\n        is_end_page: action.is_end_page\n      }\n    default:\n      return state\n  }\n}\n\nexport function allReducer (state = initialStateForAll, action) {\n  switch (action.type) {\n    case actionTypes.RESPONSE_All_LIST:\n      return {\n        ...state,\n        data: action.data\n      }\n    case actionTypes.SORT_ALL_LIST:\n      return {\n        ...state,\n        data: action.data\n      }\n    default:\n      return state\n  }\n}\n","import { api } from '../fetch/axios'\nimport { stop } from '../../lib/iterator'\nimport type from '../../lib/type'\n\nconst initialState = {\n  data: [],\n  page_num: 0,\n  per_page: 10,\n  total_count: 0,\n  is_end_page: false,\n  content: '',\n  to_uid: '',\n  to_name: ''\n}\n\nexport const actionTypes = {\n  GET_COMMENTS: 'GET_COMMENTS',\n  GET_LIKED: 'GET_LIKED',\n  ADD_LIKED: 'ADD_LIKED',\n  UPDATE_LIKED: 'UPDATE_LIKED',\n  UPDATE_TO_USER: 'UPDATE_TO_USER',\n  UPDATE_CONTENT: 'UPDATE_CONTENT',\n  POST_COMMENT: 'POST_COMMENT',\n}\n\nexport const actions = {\n  get_comment: (article_id, page_num, per_page) => dispatch => api.get_comment(article_id, page_num, per_page)\n    .then(res => {\n\n      dispatch({\n        ...res,\n        type: actionTypes.GET_COMMENTS\n      })\n\n      // 转换成 1,2,3,4 的格式\n      let comments_id = ''\n      res.data.forEach(item => {\n        comments_id += `${item.id},`\n      })\n      comments_id = comments_id.slice(0, comments_id.length - 1)\n\n      actions.get_liked('comments_id', comments_id, page_num, per_page)(dispatch)\n\n    })\n\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  get_liked: (name, value, per_page, page_num) => dispatch => api.get_liked(name, value, per_page, page_num)\n    .then(res => dispatch({\n      ...res,\n      type: actionTypes.GET_LIKED\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n  \n  add_liked: (data) => dispatch => api.add_liked(data)\n    .then(res => dispatch({\n      type: actionTypes.ADD_LIKED,\n      comment_id: data.comment_id,\n      liked_id: res.id,\n      user_id: res.user_id\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n\n  update_liked: (data) => dispatch => api.update_liked(data)\n    .then(res => dispatch({\n      type: actionTypes.UPDATE_LIKED,\n      liked_id: data.id,\n      comment_id: data.comment_id,\n      status: data.status\n    }))\n    .catch(err => {\n      console.error(err.message)\n    }),\n  \n  update_to_user: (from_uid) => ({\n    type: actionTypes.UPDATE_TO_USER,\n    from_uid,\n  }),\n  \n  update_content: content => ({\n    type: actionTypes.UPDATE_CONTENT,\n    content\n  }),\n  \n  post_comment: (data) => dispatch => api.add_comment(data)\n    .then(res => {\n\n      // 更新数据\n      dispatch({\n        type: actionTypes.POST_COMMENT,\n        commentItem: res.data\n      })\n\n      // 清空textarea\n      dispatch({\n        type: actionTypes.UPDATE_CONTENT,\n        content: ''\n      })\n\n    })\n    .catch(err => {\n      console.error(err.message)\n    })\n  \n  \n}\n\nexport function reducer (state = initialState, action) {\n\n  switch (action.type) {\n\n    case actionTypes.GET_COMMENTS:\n\n      return {\n        ...state,\n        ...action\n      }\n\n    case actionTypes.GET_LIKED:\n\n      if (type.isPlainObject(action.data)) {\n        return state\n      }\n\n      return {\n        ...state,\n        data: state.data.map(outerItem => {\n          for (let comment_id in action.data) {\n            if (parseInt(comment_id) === parseInt(outerItem.id)) {\n              return {\n                ...outerItem,\n                liked: outerItem.liked.concat(action.data[comment_id]),\n              }\n            }\n          }\n\n          return outerItem\n        })\n      }\n    \n    // === 不能直接修改 state, reducer是纯函数,是通过比较旧的 state 以及 旧的 state 通过现在的 action 计算后的 新state 来决定是否数据由变化  === //\n    case actionTypes.ADD_LIKED:\n      \n      // let data = state.data\n      //\n      // stop(data, item => {\n      //\n      //   if (item.id === action.comment_id) {\n      //     item.liked_num = 1\n      //     return false\n      //   }\n      //\n      // })\n\n      return {\n        ...state,\n        data: state.data.map(item => {\n          if (item.id === action.comment_id) {\n\n            const newItem = {\n              id: action.liked_id,\n              status: 1,\n              user_id: action.user_id\n            }\n\n            return {\n              ...item,\n              liked: item.liked.concat(newItem)\n            }\n          }\n          return item\n        })\n      }\n\n    case actionTypes.UPDATE_LIKED:\n\n      return {\n        ...state,\n        data: state.data.map(outer => {\n          if (action.comment_id === outer.id) {\n            return {\n              ...outer,\n              liked: outer.liked.map(inner => {\n                if (inner.id === action.liked_id) {\n                  return {\n                    ...inner,\n                    status: action.status\n                  }\n                }\n                return inner\n              })\n            }\n          }\n          return outer\n        })\n      }\n\n    case actionTypes.UPDATE_CONTENT:\n\n      return {\n        ...state,\n        content: action.content\n      }\n      \n    case actionTypes.UPDATE_TO_USER:\n\n      let content = state.content\n\n      let to_name = ''\n      stop(state.data, (item) => {\n        if (item.from_uid === action.from_uid) {\n          to_name = item.from_name\n          return false\n        }\n      })\n\n      to_name = `@${to_name}:`\n\n      if (content === '') {\n        content = to_name\n      } else if (/^(@\\w+?:)/.test(content)) {\n        content.replace(RegExp.$1, to_name)\n      } else {\n        content = to_name + content\n      }\n\n      return {\n        ...state,\n        content,\n        to_uid: action.to_uid,\n      }\n\n    case actionTypes.POST_COMMENT:\n\n      return {\n        ...state,\n        data: [action.commentItem].concat(state.data)\n      }\n\n    default:\n      return state\n  }\n\n}\n","import { actionTypes as UserActionTypes } from './User'\n\nconst initialState = {\n  $iframe: null,\n  hasLoaded: false,\n  messageType: '',\n  postFn: []\n}\n\nexport const actionTypes = {\n  SEND_MESSAGE: 'SEND_MESSAGE',\n  UPDATE_IFRAME_STATUS: 'UPDATE_IFRAME_STATUS',\n}\n\nexport const actions = {\n\n  /**\n   * 发送信息\n   */\n  send_message: ({messageType, postFn}) => dispatch => {\n\n    if (messageType === 'logout') {\n      dispatch({\n        type: UserActionTypes.RESET_USER_INFO\n      })\n    }\n\n    dispatch({\n      type: actionTypes.SEND_MESSAGE,\n      messageType,\n      postFn\n    })\n\n  },\n\n  /**\n   * 更新iframe加载状态\n   */\n  update_loaded_status: ({$iframe, hasLoaded}) => ({\n    type: actionTypes.UPDATE_IFRAME_STATUS,\n    $iframe,\n    hasLoaded\n  })\n\n}\n\nexport function reducer (state = initialState, action) {\n\n  const postFn = state.postFn\n\n  switch (action.type) {\n\n    // 当 hasLoaded 还为 false 时, 证明还未加载完成, 此时将 函数 放进postFn数组, 等到 hasLoaded 为true时 自动执行; 当为 true 时, 执行执行\n    case actionTypes.SEND_MESSAGE:\n\n      if (!state.hasLoaded) {\n\n        return {\n          ...state,\n          messageType: action.messageType,\n          postFn: state.postFn.concat(action.postFn)\n        }\n      }\n\n      // 执行操作\n      action.postFn(state.$iframe)\n\n      return {\n        ...state,\n        messageType: action.messageType,\n      }\n\n    // 当 postFn 中有函数时, 加载完后就立马执行\n    case actionTypes.UPDATE_IFRAME_STATUS:\n\n      if (postFn.length > 0) {\n        postFn.forEach(item => {\n          item(action.$iframe)\n        })\n\n        return {\n          ...state,\n          $iframe: action.$iframe,\n          hasLoaded: action.hasLoaded,\n          postFn: []\n        }\n\n      }\n\n      return {\n        ...state,\n        $iframe: action.$iframe,\n        hasLoaded: action.hasLoaded,\n      }\n\n    default:\n      return state\n  }\n\n}\n","// === redux：可预测的状态容器 === //\n// === 1 React 与 Redux 关系：若只用React的props和state来实现数据管理，当项目很大的时候数据传递会很麻烦，而redux将数据从react中脱离出来，redux就是一个数据管理容器，而react只负责view层 === //\n// === 2 运作流程: === //\n/*\n\n  1 在react app的最外层套一个 由 react-redux 提供的 Provider组件，接收 store 作为整个应用的数据容器\n  2 store 由 redux 提供的 createStore() 生成\n  3 createStore() 接受 三个参数: rootReducer, preloadedState, enhancer\n  3.1 rootReducer 由 redux 的 combineReducers() 生成, combineReducers() 传入的是一个对象，由各个 reducer 组成\n  3.2 preloadedState 是 一个初始化的state，为 空对象 或者 一个预定好的state(当使用ssr方案时由服务器端提供, 以达到数据状态同步)\n  3.3 enhancer 由 redux 的 compose() 生成，主要是 传入中间件 来加强reducer\n  4 每个组件的数据状态 由 一个state 来管理, preloadState 与 state 的关系为包含, 可以把整个store想象成一棵树, 树的节点就是state, 而每个需要有数据管理的组件都对应着一个state\n  4.1 一般会初始化state, 如命名为 initialState, 提供默认值\n  4.2 初始化一个react组件的时候, 需要用 react-redux 提供的 connect() 将 state 和 dispatch 绑定到 组件的 props 上, 接收的两个参数是函数，为 mapStateToProps 和 mapDispatchToProps，意味着这样才能在react组件中 调用或者访问 store 中对应的state中的数据\n  4.3 bindActionsCreators() 只是一个封装，实质上还是会 dispatch(action)\n  4.4 dispatch(action) 是从 react组件中 改变state的唯一方法，派发 action后，store收到并给出一个新的 state，state的计算过程就叫 reducer, 所以reducer的第一个参数是 旧的state，第二个参数是 action，即在旧的state上做一个action产生新的state\n  4.5 state改变后, store就会调用监听函数 subscribe(listener), listener中会 重新渲染react\n\n*/\n\n// === 1 运作流程: === //\n/*\n      trigger           send to           Update           contain         defines\n  UI ---------> action --------> Reducer ---------> Store --------> State --------\n  ^                                                                              |\n  |                                                                              v\n   ------------------------------------------------------------------------------\n\n*/\n// === 3 三大原则： === //\n// === 3.1 单一数据源, 整个应用的状态都保存在一个对象(store)中 === //\n// === 3.2 状态只读 === //\n// === 3.3 状态修改均有纯函数完成 === //\n\nconst initialState = {\n  // -1 - 关\n  // 'default' - 默认\n  // 1 - 开\n  isOpen: 'default',\n  header: '',\n  content: '',\n  question: '',\n  yesText: '',\n  noText: '',\n  notMoveYet: '',\n  dragging: false,\n  diffX: 0,\n  diffY: 0,\n  left: '50%',\n  top: '50%',\n}\n\nexport const actionTypes = {\n  UPDATE_POPUP: 'UPDATE_POPUP'\n}\n\nexport const actions = {\n  update_popup: (ops) => ({\n    ...ops,\n    type: actionTypes.UPDATE_POPUP,\n  })\n}\n\n// === 纯函数: 指函数内外间无关联, 函数内只依赖参数, 相同的输入永远产生相同的输出 === //\n// === 1 reducer设为纯函数的好处: 同样的state必定得到同样的view, reducer内部不能改变state，只能返回全新的state === //\n\nexport function reducer (state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.UPDATE_POPUP:\n      return {\n        ...state,\n        isOpen: action.isOpen || state.isOpen,\n        notMoveYet: action.notMoveYet || state.notMoveYet,\n        header: action.header || state.header,\n        content: action.content || state.content,\n        question: action.question || state.question,\n        yesText: action.yesText || state.yesText,\n        noText: action.noText || state.noText\n      }\n    default:\n      return state\n  }\n}\n","import { get, api } from '../fetch/axios'\n\n\nconst initialState = {\n  data: {}\n}\n\nexport const actionTypes = {\n  GET_STORAGE: 'GET_STORAGE'\n}\n\nexport const actions = {\n\n  get_storage () {\n\n    return dispatch => {\n\n\n\n    }\n\n  }\n\n}\n\nexport function reducer (state = initialState, action) {\n\n  switch (action.type) {\n\n    case actionTypes.GET_STORAGE:\n    default:\n      return state\n  }\n\n}\n","import { api } from '../fetch/axios'\nimport { actionTypes as IframeActionTypes } from './Iframe'\n\nconst initialState = {\n  id: -1,\n  name: '',\n  github_url: '',\n  avatar_url: '',\n  email: '',\n  role: -1\n}\n\nexport const actionTypes = {\n  GET_USER_INFO: 'GET_USER_INFO',\n  RESET_USER_INFO: 'RESET_USER_INFO',\n  LOGOUT: 'LOGOUT'\n}\n\nexport const actions = {\n\n  get_user: () => dispatch => api.get_user()\n    .then(res => dispatch({\n      ...res.data,\n      type: actionTypes.GET_USER_INFO,\n    }))\n    .catch(err => {\n      console.error(err)\n    }),\n\n  reset_user: () => ({\n    type: actionTypes.RESET_USER_INFO\n  }),\n\n  logout: () => dispatch => api.logout()\n    .then(res => {\n\n      // 重置 user state\n      dispatch({\n        type: actionTypes.RESET_USER_INFO\n      })\n\n      // 在sso认证中心删除 域下的localStorage 的 access_token\n      dispatch({\n        type: IframeActionTypes.SEND_MESSAGE,\n        messageType: 'logout',\n        postFn: ($iframe) => {\n\n          $iframe.contentWindow.postMessage({\n            type: 'logout'\n          }, $iframe.src)\n\n        }\n      })\n\n    })\n    .catch(err => {\n      console.error(err.message)\n    })\n\n}\n\nexport function reducer (state = initialState, action) {\n\n  switch (action.type) {\n\n    case actionTypes.GET_USER_INFO:\n      return {\n        ...state,\n        ...action\n      }\n\n    case actionTypes.RESET_USER_INFO:\n      return {\n        ...state,\n        name: '',\n        github_url: '',\n        avatar_url: '',\n        email: '',\n        role: -1\n      }\n\n    default:\n      return state\n  }\n\n}\n","import { combineReducers } from 'redux'\nimport { latestReducer, bestReducer, searchReducer, allReducer } from './ArticleList'\nimport { reducer as ArticleCategoryReducer } from './ArticleCategory'\nimport { reducer as ArticleReducer } from './Article'\nimport { reducer as ArticleLinkListReducer } from './ArticleLinkList'\nimport { reducer as PopupReducer } from './Popup'\nimport { reducer as StorageReducer } from './Storage'\nimport { reducer as UserReducer} from './User'\nimport { reducer as IframeReducer } from './Iframe'\nimport { reducer as CommentReducer } from './Comment'\n\nexport default combineReducers({\n  searchReducer,\n  latestReducer,\n  bestReducer,\n  allReducer,\n  ArticleCategoryReducer,\n  ArticleReducer,\n  ArticleLinkListReducer,\n  PopupReducer,\n  StorageReducer,\n  UserReducer,\n  IframeReducer,\n  CommentReducer\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './index'\nimport config from '../../../config'\n\nconst IS_CLIENT_ENV = typeof window !== 'undefined'\n\n// === redux middleware: 提供了一个分类处理action的机会，可检阅每个流过的action，挑选出特定类型的action进行相应操作 === //\n// === 1 没有middleware: === //\n/*\n        callback            action            state\nbutton ---------> dispatch --------> reducer --------> view\n*/\n// === 2 有middleware: === //\n/*\n                 ---------------------------------------- \n                 |           new dispatch                |\n        callback |             action                    | action\nbutton ---------> mid1 -> mid2 ---------> ... -> dispatch --------> reducer\n*/\n// === 3 middleware运行原理: === //\n// === 3.1 函数式编程思想设计: === //\n\n\n// === 函数组合: 利用compose将多个函数组合成一个函数，让代码从右向左执行而非由内而外执行，提高可读性 === //\n\nconst middlewares = [thunk]\n\nlet storeEnhancers =\n  config.ISDEV && IS_CLIENT_ENV\n  ? compose(  // 开发环境 + 客户端\n    applyMiddleware(...middlewares),\n    window.devToolsExtension ? window.devToolsExtension() : f => f\n  )\n  : compose(  // 开发环境 + 后端 || 生产环境\n    applyMiddleware(...middlewares)\n  )\n\nexport function configureStore (initialStore = {}) {\n  const store = createStore(\n    rootReducer,\n    initialStore,\n    storeEnhancers\n  )\n\n  return store\n}\n\n// 前后端同构时的数据埋点\nlet store = configureStore(IS_CLIENT_ENV && window.__REDUX_DATA__ || {})\n\nexport default store","// === react-router v4 组件外路由跳转方法: === //\n// === 1 withRouter: react-router-dom 提供的 withRouter(组件), 在组件内就可通过 this.props.history.oush() 来跳转  === //\n// === 2 hack: === //\n// === 2.1 自己创建 history: import createHistory from 'history/createBrowserHistory'; export default createHistory(); === //\n// === 2.2 在配置路由时不用 HashRouter, 而是 <Router history={history}> === //\n// === 2.3 想要跳转的地方, 引入 history, 然后 history.push() === //\n\nimport createHistory from 'history/createBrowserHistory'\n\nexport default typeof window !== 'undefined' ? createHistory() : {}\n","// removed by extract-text-webpack-plugin","import { Router, Route, Switch } from 'react-router-dom'\nimport React, { Component } from 'react'\n\nimport Home from '../containers/Home/index'\nimport SearchList from '../containers/SearchList/index'\nimport BestArticle from '../containers/BestArticle/index'\nimport ArticleCategory from '../containers/ArticleCategory/index'\nimport CollectionOfWorks from '../containers/CollectionOfWorks/index'\nimport Article from '../containers/Article/index'\nimport NoMatch from '../containers/NoMatch/index'\nimport Auth from '../containers/Auth'\nimport history from './history'\n\n// 官网\nconst IndexRouteMap = () => (\n  <Router history={history}>\n    <div className={'root-router'}>\n      <Auth/>\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path='/search' component={SearchList} />\n        <Route path='/bestlist' component={BestArticle} />\n        <Route path='/category' component={ArticleCategory} />\n        <Route path='/works' component={CollectionOfWorks} />\n        <Route path='/article/:id' component={Article} />\n        <Route component={NoMatch} />\n      </Switch>\n    </div>\n  </Router>\n)\n\nexport { IndexRouteMap }\n","// === 树: 由n个结点组成的有限集合 === //\n// === 1 根结点: 只有后继结点没有前驱结点 === //\n// === 2 度: 节点所拥有子树的棵树 === //\n// === 3 层次: 节点处于树中的层次位置, 如根结点的层次为1, 之后+1 === //\n// === 4 高度/深度: 树中节点的最大层次数 === //\n/*\n      A\n    B   C\n  D   E   F\n*/\n// === 5 有序对(A, B) 称为连接 A, B 结点的分支/边 === //\n// === 6 设 (X0, X1, ..., Xk)(0 <= k < n) 是由树中结点组成的一个序列, 且(Xi, Xi+1)(0 <= i< k)都是树中的边, 则称该序列为从 X0到Xk 的一条路径, 路径长度为路径上的边数 === //\n// === 6.1 如: A 到 D 的路径为 (A, B, D), 路径长度为2 === //\n// === 7 直径: 从根到叶子结点一条最长路径，路径长度为 树的高度 - 1 === //\n// === 8 森林: m(m >= 0)棵互不相交的树的集合 === //\n\n// === 二叉树: === //\n// === 1 解题思路: === //\n/*\n\n1 连续两个结点可推断出相对位置\n2 充分利用猜测会更快\n\n前: 1 | 2 4 | 3 5 7 6      根左右, 第一个为根\n中: 2 4 | 1 | 5 7 3 6      左根右, 用根划分出 左子树 右子树\n后: 4 2 | 7 5 6 3 | 1      左右根, 最后一个为根\n\n*/\n\n// === 二叉查找树： === //\n// === 1 优点：O(logn)的查找效率和插入效率 === //\n// === 2 使用场景: === //\n// === 2.1 数据量大且随机分布 === //\n// === 2.2 频繁地查找和插入 === //\n// === 3 缺点：若数据有序，会造成只有左子树或右子树，从而退化为链表，查找变成O(n) === //\n\nimport inheritPrototype from './inheritPrototype'\n\n/**\n * 二叉树节点\n * @constructs Node\n * @param {*} data - 数据\n * @param {Object} left - 左子树\n * @param {Object} right - 右子树\n */\nfunction Node (data, left, right) {\n  this.data = data\n  this.left = left\n  this.right = right\n  this.show = show\n}\n\n/**\n * 获取数据\n * @return {*}\n */\nvar show = function () {\n  return this.data\n}\n\n/**\n * @constructs BST\n * // === 只初始化根节点为null === //\n */\nfunction BST () {\n  this.root = null\n}\n\nBST.prototype = {\n\n  constructor: BST,\n\n  /**\n   * 插入\n   * // === 思路： === //\n   * // === 1.若没有根节点则新节点为根节点 === //\n   * // === 2.否则，循环中，设置一个当前节点变量，从根节点开始，数据比cur小的，cur更新为其左子树，若为null，则将新节点的引用给它，退出循环；右子树的判断同理 === //\n   * @param {*} data - 数据\n   */\n  insert: function (data) {\n    var n = new Node(data, null, null)\n\n    if (this.root === null) {\n      this.root = n\n    } else {\n      let cur = this.root\n      let parent\n\n      while (true) {\n        parent = cur\n\n        if (data < cur.data) {\n          cur = cur.left\n\n          if (cur === null) {\n            parent.left = n\n            break\n          }\n        } else {\n          cur = cur.right\n\n          if (cur === null) {\n            parent.right = n\n            break\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * 中序遍历\n   * // === 利用递归，顺序为：左子树 - 显示当前节点 - 右子树 === //\n   * @param {Object} node - 节点\n   * @param {Function} fn - 回调\n   */\n  inOrder: function inner (node, fn) {\n    if (!(node === null)) {\n      inner(node.left, fn)\n      fn(node.show())\n      inner(node.right, fn)\n    }\n  },\n\n  /**\n   * 先序遍历\n   * // === 函数表达式中，name为函数内部属性，只在函数内部有效；省略则为匿名函数，如inner === //\n   * // === arguments.callee在es5中的严格模式下被禁用，由于性能问题最好递归时不要用匿名函数 === //\n   * // === 利用递归，顺序为：显示当前节点 - 左子树 - 右子树 === //\n   * @param {Object} node - 节点\n   * @param {Function} fn - 回调\n   */\n  preOrder: function inner (node, fn) {\n    if (!(node === null)) {\n      fn(node.show())\n      inner(node.left, fn)\n      inner(node.right, fn)\n    }\n  },\n\n  /**\n   * 后序遍历\n   * // === 利用递归，顺序为：左子树 - 右子树 - 显示当前节点 === //\n   * @param {Object} node - 节点\n   * @param {Function} fn - 回调\n   */\n  postOrder: function inner (node, fn) {\n    if (!(node === null)) {\n      inner(node.left, fn)\n      inner(node.right, fn)\n      fn(node.show())\n    }\n  },\n\n  /**\n   * 获取最小值\n   * // === 左子树的顶端永远最小，实质上是链表的查找 === //\n   * @param {Object} node - 起点\n   * @return {*}\n   */\n  getMin: function (node) {\n    let cur = node || this.root\n\n    while (!(cur.left === null)) {\n      cur = cur.left\n    }\n\n    return cur.data\n  },\n\n  /**\n   * 获取最大值\n   * // === 右子树的顶端永远最大，实质上是链表的查找 === //\n   * @param {Object} node - 起点\n   * @return {*}\n   */\n  getMax: function (node) {\n    let cur = node || this.root\n\n    while (!(cur.right === null)) {\n      cur = cur.right\n    }\n\n    return cur.data\n  },\n\n  /**\n   * 查找节点\n   * // === 只要不为null就继续，若与当前节点的数据相等则返回，否则，小往左，大往右 === //\n   * @param {*} data - 数据\n   * @return {Null|Object}\n   */\n  find: function (data) {\n    let cur = this.root\n\n    while (cur !== null) {\n      if (data === cur.data) {\n        return cur\n      } else if (data < cur.data) {\n        cur = cur.left\n      } else {\n        cur = cur.right\n      }\n    }\n\n    return null\n  },\n\n  /**\n   * 移除节点\n   * // === 思路：从根节点开始递归查找，查到目标后，一层层返回 === //\n   * // === 4种情况：null, 等于, 小于， 大于 === //\n   * // === 等于的时候考虑：无子节点(置为null)，无左子节点(返右子节点)，无右子节点(返左子节点)，都有(替换为找到右子节点的最小值，因为比左后代都大比右后代都小) === //\n   * // === 小于的时候，往左子树找；大于的时候往右子节点找 === //\n   * @param {Object} node - 节点\n   * @param {*} data - 数据\n   * @private\n   */\n  removeNode: function inner (node, data) {\n    if (node === null) {\n      return null\n    }\n\n    if (data === node.data) {\n      if (node.left === null && node.right === null) {\n        return null\n      }\n\n      if (node.left === null) {\n        return node.right\n      }\n\n      if (node.right === null) {\n        return node.left\n      }\n\n      let tmpNode = this.getMin(node.right)\n      node.data = tmpNode.data\n      node.right = inner(node.right, tmpNode.data)\n\n      return node\n    } else if (data < node.data) {\n      node.left = inner(node.left, data)\n      return node\n    } else {\n      node.right = inner(node.right, data)\n      return node\n    }\n  },\n\n  /**\n   * 移除节点\n   * // === 递归到的节点都重新赋值1次 === //\n   * @param {*} data - 数据\n   */\n  remove: function (data) {\n    this.root = this.removeNode(this.root, data)\n  }\n\n}\n\n// for count:\nfunction Node4C (data, left, right) {\n  Node.apply(this, arguments)\n  this.count = 1\n}\n\nfunction BST4C () {\n  BST.call(this)\n}\n\ninheritPrototype(BST4C, BST)\n\nBST4C.prototype.update = function (data) {\n  var d = this.find(data)\n  ++d.count\n  return d\n}\n\nexport default BST\n","/**\n * 获取cookie\n * // === 思路: 从字符串中获取特定字符   === //\n * // === 1 用例: \"supportWebp=true; csrf_token=1530792624239\" === //\n * // === 2 获取如 csrf_token= 后面的位置, 截取到 ; 或者 结尾 === //\n * @param {String} name - cookie名称\n * @return {String}\n */\nfunction get (name) {\n\n  const cookie = document.cookie\n  const cName = encodeURIComponent(name) + '='\n  const cStart = cookie.indexOf(cName)\n  let cVal = ''\n\n  if (cStart > -1) {\n\n    let cEnd = cookie.indexOf(';', cStart)\n    if (cEnd === -1) {\n      cEnd = cookie.length\n    }\n\n    cVal = decodeURIComponent(cookie.substring(cStart + cName.length, cEnd))\n  }\n\n  return cVal\n}\n\n/**\n * 设置cookie\n * @param {String} name - cookie名称\n * @param {String} value - 值\n * @param {[Object]} options - 选项\n */\nfunction set (name, value, options) {\n\n  if (typeof options !== 'object') {\n    throw new Error('options must be a object')\n  }\n\n  let cookie = `${name}=${value};`\n\n  if (options.expires) {\n    cookie += `; expires=${options.expires.toUTCString()}`\n  }\n  if (options.maxAge) {\n    cookie += `; max-age=${options.maxAge}`\n  }\n  if (options.domain) {\n    cookie += `; domain=${options.domain}`\n  }\n  if (options.path) {\n    cookie += `; path=${options.path}`\n  }\n  if (options.httpOnly) {\n    cookie += `; httponly`\n  }\n  if (options.sameSite) {\n    cookie += `; samesite`\n  }\n  if (options.secure) {\n    cookie += `; secure`\n  }\n\n  document.cookie = cookie\n}\n\n// === es6 - 函数 - 与解构赋值默认值结合使用: 左边是解构赋值, 右边是默认值, 不传值会选取右边的默认值, 若此时有解构赋值会再去解构赋值; 若传值会直接取解构赋值 === //\n/*\n\n// 写法一\nfunction m1({x = 0, y = 0} = {}) {\n  return [x, y];\n}\n\n// 写法二\nfunction m2({x, y} = { x: 0, y: 0 }) {\n  return [x, y];\n}\n\n// 函数没有参数的情况\nm1() // [0, 0]  // 先选取右边的默认值 {} , 默认值是个对象, 则再选取左边的解构赋值\nm2() // [0, 0]\n\n// x 和 y 都有值的情况\nm1({x: 3, y: 8}) // [3, 8]\nm2({x: 3, y: 8}) // [3, 8]\n\n// x 有值，y 无值的情况\nm1({x: 3}) // [3, 0]\nm2({x: 3}) // [3, undefined]\n\n// x 和 y 都无值的情况\nm1({}) // [0, 0];\nm2({}) // [undefined, undefined]\n\nm1({z: 3}) // [0, 0]\nm2({z: 3}) // [undefined, undefined]\n\n*/\n\n/**\n * 删除cookie\n * // === 删除cookie: 不同的域、不同的路径下可以存在同样名字的cookie, 因此一定要相同才能删除 === //\n * @param {String} name - cookie名称\n * @param {String} value - 值\n * @param {[Object]} options - 选项\n */\nfunction unset (name, options) {\n  set(name, '', Object.assign({}, options, {expires: new Date(0), path: '/'}))\n}\n\nexport default {\n  get,\n  set,\n  unset\n}\n","import type from './type'\n\nlet datetime = {}\n\nconst handleZero = function (num) {\n  return num < 10 ? `0${num}` : num\n}\n\ndatetime.toRegular = function (dateObj) {\n  if (!type.isDate(dateObj)) {\n    throw new Error('非Date对象！')\n  }\n\n  return `${dateObj.getFullYear()}-${handleZero(dateObj.getMonth())}-${handleZero(dateObj.getDate())} ${handleZero(dateObj.getHours())}:${handleZero(dateObj.getMinutes())}:${handleZero(dateObj.getSeconds())}`\n}\n\nexport default datetime\n","/**\n * 防抖\n * // === 特点：频繁地调用中只允许一次成功地调用 === //\n * // === 1.立即执行：以点击按钮为例，连续点击10次，结果是立即执行第一次点击的效果，之后的都无效 === //\n * // === 2.非立即执行：以点击按钮为例，连续点击10次，结果是前九次都无效，直到第十次点击后wait秒，才生效 === //\n * @param {Function} fn - 函数\n * @param {Number} wait - 毫秒数\n * @return {Function}\n */\nexport default function debounce (fn, wait, immediate) {\n  let timer\n\n  return function () {\n    let args = arguments\n    let self = this\n\n    timer && clearTimeout(timer)\n\n    if (immediate) {\n      timer = setTimeout(function () {\n        timer = null\n      }, wait)\n\n      !timer && fn.apply(self, args)\n    } else {\n      timer = setTimeout(function () {\n        fn.apply(self, args)\n      }, wait)\n    }\n  }\n}\n","// === 图片优化之webp === //\n// === 1.特点：压缩率高和解码较好，在ios中有兼容问题，安卓中有很好支持 === //\n// === 2.手段：智图，cwebp工具，webpack中转换，nodejs中imagemin-webp === //\n// === 3.使用：客户端检测是否支持webp，将结果放在cookie，后端根据cookie来选择用webp还是向后兼容[xxx.jpg] === //\nexport default function (feature, callback) {\n  var kTestImages = {\n    lossy: 'UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA',\n    lossless: 'UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==',\n    alpha: 'UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==',\n    animation: 'UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA'\n  }\n  var img = new Image()\n  img.onload = function () {\n    var result = (img.width > 0) && (img.height > 0)\n    callback(feature, result)\n  }\n  img.onerror = function () {\n    callback(feature, false)\n  }\n  img.src = 'data:image/webp;base64,' + kTestImages[feature]\n}\n","// === 尾递归: 尾调用自身, 本质：将方法需要的上下文通过方法的参数传递进下一次调用之中，以达到去除上层依赖 === //\n// === 1 递归导致的内存溢出: 递归非常耗费内存，因为需要同时保存成千上百个调用帧，很容易发生“栈溢出”错误（stack overflow）。但对于尾递归来说，由于只存在一个调用帧，所以永远不会发生“栈溢出”错误 === //\n// === 2 递归：函数调用自身 === //\n// === 3 调用栈：函数调用会在内存形成一个“调用记录”，又称“调用帧”（call frame），保存调用位置和内部变量等信息 === //\n// === 3.1 形成原理: 如果在函数A的内部调用函数B，那么在A的调用帧上方，还会形成一个B的调用帧。等到B运行结束，将结果返回到A，B的调用帧才会消失。如果函数B内部还调用函数C，那就还有一个C的调用帧，以此类推。所有的调用帧，就形成一个“调用栈”（call stack） === //\n// === 4 尾调用：函数的最后一步是调用另一个函数作为返回值 === //\n// === 4.1 尾调用优化(TCO): 只保留内层函数的调用帧。如果所有函数都是尾调用，那么完全可以做到每次执行时，调用帧只有一项，这将大大节省内存。这就是“尾调用优化”的意义 === //\n// === 4.2 TCO条件：不再用到外层函数的内部变量，内层函数的调用帧才会取代外层函数的调用帧 === //\n// === 4.3 开启尾递归优化: === //\n// === > es6开启严格模式(因为引用了追踪函数调用栈的fn.arguments和fn.caller) === //\n// === > 正常模式: 减少调用栈, 用循环代替递归 === //\n// === 4.4 兼容性：除SF, 其它都还没有实现，根本原因是优化是 === //\n// === > 隐式的, 开发者难辨别 === //\n// === > 会导致执行流中堆栈信息丢失，不利于错误收集与调试 === //\n\n'use strict'\n\nlet fibonacci = {}\n\n/**\n * 尾递归优化\n * // === 思路： === //\n * // === 用单例模式将递归进行处理，每次递归实质上是：将参数用存储起来，根据参数个数来循环，而在每次循环中，调用的递归会将新的参数传给数组，但是由于active为true，就会退出到循环体中，此时循环体的arr个数又更新了 === //\n * // === 实质：用递归来改变循环条件，但不进行真正的递归 === //\n * @param {Function} fn - 函数\n * @return {Function}\n */\nfunction tco (fn) {\n  let value\n  let active = false\n  let arr = []\n\n  // 1\n  return function () {\n    // 2 // 9   // 15\n    arr.push(arguments)\n\n    // 3\n    if (!active) {\n      // 4\n      active = true\n\n      // 5  // 11\n      while (arr.length) {\n        // 6  // 12\n        value = fn.apply(this, arr.shift())\n      }\n\n      active = false\n\n      return value\n    }\n  }\n\n  // 10 // 16 ...\n}\n\n/**\n * 递归\n * // === 第一次传的是次数，比如5；第二次：4, 0, 1; 第三次：3, 1, 1; 第四次： 2, 1, 2; 第五次： 1, 2, 3 === //\n */\nconst recurse = tco(function (n, cur = 0, next = 1) {\n  // 7  // 13\n  if (n === 1) {\n    return next\n  }\n\n  if (n === 0) {\n    return 0\n  }\n\n  // 8  // 14\n  return recurse(n - 1, next, cur + next)\n})\n\nfibonacci.recurse = recurse\n\n/**\n * 尾递归转化为遍历\n * // === 事先预备好[0, 1]; 从i为2开始，后一项都为前两项之和 === //\n * @param {Number} n - 次数\n * @return {Array}\n */\nfibonacci.iterator = function (n) {\n  let arr = [0, 1]\n  let len = arr.length\n  let i = len\n\n  while (i <= n) {\n    arr.push(arr[i - 1] + arr[i - 2])\n    ++i\n  }\n\n  return arr\n}\n\n// === 斐波那契数列： === //\n// ===        0, n = 0               === //\n// === F(n) = 1, n = 1               === //\n// ===        F(n - 1) + F(n - 2)    === //\n// === A(n) = 1 / √5 * [ ((1 + √5) / 2) ^ n - ((1 - √5) / 2) ^ n ] === //\n\nfibonacci.math = function (n) {\n  const SQRT_FIVE = Math.sqrt(5)\n  return Math.round(1 / SQRT_FIVE * (Math.pow(0.5 + SQRT_FIVE / 2, n) - Math.pow(0.5 - SQRT_FIVE / 2, n)))\n}\n\nexport default fibonacci\n\n// === 动态规划: 将原问题拆解成若干个子问题, 同时保存若干个子问题的答案, 使得每个子问题只求解一次, 最终获得原问题的答案 === //\n/*\n                              记忆化搜索(自顶向下的解决问题)\n                            /\n  递归问题 -> 发现重叠的子问题\n                            \\\n                              动态规划(自底向上的解决问题)\n\n*/\n\n// === 函数记忆: 将上次的计算结果缓存起来，当下次调用时，如果遇到相同的参数，就直接返回缓存中的数据 === //\n// === 1 原理: 把参数和对应的结果数据存到一个对象中，调用时，判断参数对应的数据是否存在，存在就返回对应的结果数据 === //\n// === 2 本质: 牺牲算法的空间复杂度以换取更优的时间复杂度，在客户端 JavaScript 中代码的执行时间复杂度往往成为瓶颈，因此在大多数场景下，这种牺牲空间换取时间的做法以提升程序执行效率的做法是非常可取的 === //\n// === 3 注意: 简单的情况下会适得其反 === //\nexport let memorize = fn => {\n\n  let memorize = function (...key) {\n\n    const cache = memorize.cache\n    const address = key.join(',')\n    \n    if (!cache[address]) {\n      cache[address] = fn.apply(this, arguments)\n    }\n\n    return cache[address]\n\n  }\n\n  memorize.cache = {}\n  return memorize\n\n}\n","/**\n * 继承父类原型\n * // === 步骤： === //\n * // === 1.将父类原型通过Object.create()复制一份 === //\n * // === 2.将其构造函数指向子类构造函数 === //\n * // === 3.将子类原型指向副本 === //\n * @param {Obejct} subType - 子类构造函数\n * @param {Obejct} superType - 父类构造函数\n */\n\nexport default function (subType, superType) {\n  const prototype = Object.create(superType.prototype)\n\n  prototype.constructor = subType\n\n  subType.prototype = prototype\n}\n","// === 迭代器模式: 提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示 === //\n// === 0 可迭代对象: 只要被迭代的聚合对象拥有length属性而且可以用下标访问，那它就可以被迭代 === //\n// === 1 内部迭代器: 内部迭代器在调用的时候非常方便，外界不用关心迭代器的内部实现，跟迭代器的交互也仅仅是一次初始调用 === //\n// === 1.1 缺点: 迭代规则已经被提前规定，不灵活 === //\n// === 2 外部迭代器: 增加了一些调用的复杂度，但相对也增强了迭代器的灵活性，我们可以手工控制迭代的过程或者顺序 === //\n// === 3 倒序迭代器: === //\n// === 4 中止迭代器: 如果回调函数的执行结果返回false则提前终止循环 === //\n\n/**\n * 内部迭代器\n */\nexport const inner = Array.prototype.forEach\n\n/**\n * 外部迭代器\n */\nexport const outer = function (obj) {\n\n  let cur = 0\n\n  const next = () => cur += 1\n  const isDone = () => cur >= obj.length\n  const getCurItem = () => obj[cur]\n\n  return {\n    next,\n    isDone,\n    getCurItem\n  }\n\n}\n\n/**\n * 倒序迭代\n * @param {Array} arr - 数组\n * @param {Function} cb - 回调\n */\nexport const reverse = function (arr, cb) {\n\n  for (let l = arr.length; l--; ) {\n    cb(arr[l], l, arr)\n  }\n\n}\n\n/**\n * 中止迭代\n * @param {Array} arr - 数组\n * @param {Function} cb - 回调\n */\nexport const stop = function (arr, cb) {\n\n  for (let l = arr.length; l--; ) {\n    if (cb(arr[l], l, arr) === false) {\n      break\n    }\n  }\n\n}","// === 边界: 只匹配位置 === //\n// === 零宽度断言: 不匹配字符而是匹配字符之间的位置 === //\n// === ^: 匹配开头位置 === //\n// === $: 匹配结尾位置 === //\n// === \\b: 匹配单词边界 === //\n/*\n\n123fsd3;24325.435,fdffdas`2324\n\n1的前面位置\n3与;之间的位置\n;与2之间的位置\n5与.之间的位置\n.与4之间的位置\n5与,之间的位置\n,与f之间的位置\ns与`之间的位置\n`与2之间的位置\n4的后面位置\n\n*/\n// === \\B: 除了\\b匹配到的位置 === //\n\n// === 环视: 是一种非捕获分组, 根据某个模式之前或之后的内容来匹配其它模式(方向: 后 ---> 前) === //\n// === 1 正前瞻: 匹配单词abc, 且紧随后的单词为fg --- abc(?=fg)  === //\n// === 2 反前瞻: 匹配单词abc, 且紧随后的单词不为fg --- abc(?!fg) === //\n// === 3 正后顾: 匹配单词fg, 且前面为abc --- (?<=fg)abc  === //\n// === 4 反后顾: 匹配单词fg, 且前面不为abc --- (?<!fg)abc === //\n\nexport default {\n  date: /^\\d{4}-(?:0[1-9]|1[12])-(?:0[1-9]|[12][1-9]|3[01])(?:\\s(?:[01][0-9]|2[0-3])\\:[0-6][0-9]\\:[0-5][0-9]|$)/,\n  phone: /^1(3|5|8)\\d{9}$/,\n  mail: /^[\\w\\W]+?@\\w+?\\.(?:com|cn)$/,\n  num: /^\\d*$/,\n  legal: /[^\\*\\\\\\/\\?\\\"\\'\\+\\^]/,\n\n  // 1 通过 \\B: 先匹配每个除了\\b外的边界\n  // 2 通过 \\B(?=(\\d{3}): 边界后面紧跟着3个数字\n  // 3 通过 \\B(?=(\\d{3})(?!\\d)): 3个数字后面不能再为数字\n  // 4 通过 + : 这样的边界在全局匹配多份\n  num2money: /\\B(?=(\\d{3})+(?!\\d))/g,\n}\n","/**\n * typeof: 可判断基本类型(null 为 'object') / 引用类型中的'function'\n * instanceof: 可判断数组，自定义对象, 但引用类型 instanceof Object 都为true\n * Object.prototype.toString.call(): [object Constructor]: 最保险\n */\n\nlet type = {}\n\nconst isType = (target, constructor) => {\n  return Object.prototype.toString.call(target) === `[object ${constructor}]`\n}\n\n/**\n * 判断是否为对象\n * @param {Object} obj - 判断参数\n * @return {Boolean}\n */\ntype.isObject = function (obj) {\n  return isType(obj, 'Object')\n}\n\ntype.isBelongsToObject = function (obj) {\n  return typeof obj\n}\n\ntype.isPlainObject = function (obj) {\n  return isType(obj, 'Object') && JSON.stringify(obj) === '{}'\n}\n\ntype.isArray = function (arr) {\n  return Array.isArray(arr) || isType(arr, 'Array')\n}\n\ntype.isDate = function (date) {\n  return isType(date, 'Date')\n}\n\nexport default type\n","// === XSS: === //\n// === 1 攻击原理: 程序 + 数据 = 结果，而通常数据加入了其它网站的脚本，从而使得数据也变成了包含其它网站脚本程序的数据 === //\n// === 2 危害: === //\n// === 2.1 获取页面数据：偷取网站任意数据 === //\n// === 2.2 获取Cookies：获得登录态，从而进行csrf攻击 === //\n// === 2.3 劫持前端逻辑：去到钓鱼网站 === //\n// === 2.4 发送请求：欺骗用户 === //\n// === 3 攻击类型: === //\n// === 3.1 反射型: uri参数直接注入, 如经过处理后的url短网址 === //\n// === 3.2 存储型: 存储到DB后读取时注入 === //\n// === 3.3 DOM-base型: 改版了html原有结构，如转义掉了字符或提前闭合掉了标签，为跨站的脚本代码提供了执行环境 === //\n// === 4 攻击注入点: === //\n// === 4.1 HTML节点内容：节点动态生成，且包含了用户输入的信息 === //\n/*\n<div>                        <div>\n  {content}       ==》         <script > xxxx </script>\n</div>                       </div>\n*/\n// === 4.2 HTML属性：某个属性值由用户输入组成 === //\n/*\n<img src={item.src} />   ==》    <img src=\"1\" onerror=\"alert(1);\" />\n*/\n// === 4.3 Javascript代码：某段js代码包含了由用户注入的信息，如从后端出来的变量 === //\n/*\nvar data = \"#{data}\"    ==》     var data = \"hello\";alert(1);\"\";\n*/\n// === 4.4 富文本：既要保持格式，且HTML有XSS攻击风险 === //\n// === 5 防御 === //\n// === 5.1 X-XSS-Protection === //\n// === 5.2 实体转义 === //\n/*\nhtml环境:\n< : '&lt;'\n> : '&gt;'\n\nhtml属性环境:\n& : '&amp;'\n\" : '&quto;'\n' : '&#39;'\n*/\n// === 5.3 js转义: `\"`和`\\`转义 === //\n// === 5.4 富文本过滤:  === //\n// === 5.5 CSP === //\n\n/**\n * 转义危险html字符\n * // === 参数传递：形参是实参在栈内存的副本，改变形参则为按值传递，改变形参的属性则为引用传递(若是对象) === //\n * @param {String} str - html字符\n * @return {String}\n */\nexport function escapeHtml (str) {\n\n  str = str + ''\n\n  if (!str) {\n    return ''\n  }\n\n  return str\n    // html\n    .replace(/&/g, '&amp;') // 只能放最前面\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    // html property\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;')\n}\n\n/**\n * 转义危险js字符\n * @param {String} str - js字符\n * @return {String}\n */\nexport function escapeJs (str) {\n\n  if (!str) {\n    return ''\n  }\n\n  return str\n    .replace(/\\\\/g, '\\\\\\\\')\n    .replace(/\"/g, '\\\\\"')\n\n};\n","/* 开发环境域名与IP的配置:\n\n/private/etc/hosts:\n\n127.0.0.1       www.localhost.cn\n127.0.0.1       admin.localhost.cn\n127.0.0.1\t      game.localhost.cn\n127.0.0.1\t      sso.localhost.cn\n127.0.0.1 \t    file.localhost.cn\n127.0.0.1       game.localhost.cn\n\nwhistle 配置:\n\nwww.localhost.cn\t  host://127.0.0.1:3003\nadmin.localhost.cn  host://127.0.0.1:8080\ngame.localhost.cn   host://127.0.0.1:3001\nsso.localhost.cn    host://127.0.0.1:3333\nfile.localhost.cn   host://127.0.0.1:3009\ngame.localhost.cn   host://127.0.0.1:3007\n\n*/\n\nconst ISDEV = process.env.NODE_ENV === 'development'\nconst ISPROD = process.env.NODE_ENV === 'production'\nconst ISTEST = process.env.test === 'test'\n\n// 开发环境配置\nconst DEV = {\n\n  // === 域名： === //\n  // === 1 根域名： . === //\n  // === 2 顶级域名：com gov edu cn com net等 === //\n  // === 3 二级域名: hellojm === //\n  // === 4 三级域名：www blog file === //\n  // === 完整域名：www.hellojm.cn. [通常省略根域名] === //\n\n  SSO_PORT: '3333',\n  SSO_DOMAIN: 'http://sso.localhost.cn',\n\n  INDEX_PORT: '3003',\n  INDEX_SEVER_PORT: '3000',\n  INDEX_DOMAIN: 'http://www.localhost.cn',\n\n  CMS_PORT: '8080',\n  CMS_SERVER_PORT: '8081',\n  CMS_DOMAIN: 'http://admin.localhost.cn',\n\n  FILE_SERVER_PORT: '3009',\n  FILE_SERVER_DOMAIN: 'http://file.localhost.cn'\n}\n\n// 生产环境配置\nlet PROD = {\n\n  SSO_PORT: '3333',\n  SSO_DOMAIN: 'https://sso.hellojm.cn',\n\n  INDEX_SERVER_PORT: '3003',\n  INDEX_DOMAIN: 'https://www.hellojm.cn',\n\n  CMS_SERVER_PORT: '8080',\n  CMS_DOMAIN: 'https://admin.hellojm.cn',\n\n  FILE_SERVER_PORT: '3001',\n  FILE_SERVER_DOMAIN: 'https://file.hellojm.cn',\n}\n\nif (ISTEST) {\n  PROD = Object.assign({}, PROD, {\n    SSO_DOMAIN: 'http://sso.localhost.cn',\n    INDEX_DOMAIN: 'http://www.localhost.cn',\n    CMS_DOMAIN: 'http://admin.localhost.cn',\n    FILE_SERVER_DOMAIN: 'http://file.localhost.cn'\n  })\n}\n\nconst SSO_PORT = ISDEV ? DEV.SSO_PORT : PROD.SSO_PORT\nconst SSO_DOMAIN = ISDEV || ISTEST ? DEV.SSO_DOMAIN : PROD.SSO_DOMAIN\nconst INDEX_PORT = ISDEV ? DEV.INDEX_PORT : PROD.INDEX_PORT\nconst INDEX_SEVER_PORT = ISDEV ? DEV.INDEX_SEVER_PORT : PROD.INDEX_SERVER_PORT\nconst INDEX_DOMAIN = ISDEV || ISTEST ? DEV.INDEX_DOMAIN : PROD.INDEX_DOMAIN\nconst CMS_PORT = ISDEV ? DEV.CMS_PORT : PROD.CMS_PORT\nconst CMS_SERVER_PORT = ISDEV ? DEV.CMS_SERVER_PORT : PROD.CMS_SERVER_PORT\nconst CMS_DOMAIN = ISDEV || ISTEST ? DEV.CMS_DOMAIN : PROD.CMS_DOMAIN\nconst FILE_SERVER_PORT = ISDEV ? DEV.FILE_SERVER_PORT : PROD.FILE_SERVER_PORT\nconst FILE_SERVER_DOMAIN = ISDEV || ISTEST ? DEV.FILE_SERVER_DOMAIN : PROD.FILE_SERVER_DOMAIN\nconst COOKIE_DOMAIN = ISDEV || ISTEST ? '.localhost.cn' : '.hellojm.cn'\n\nmodule.exports = {\n\n  ISDEV,\n  ISPROD,\n  ISTEST,\n\n  PUBLICPATH: '/',\n\n  SSO_PORT,\n  SSO_DOMAIN,\n  INDEX_PORT,\n  INDEX_SEVER_PORT,\n  INDEX_DOMAIN,\n  CMS_PORT,\n  CMS_SERVER_PORT,\n  CMS_DOMAIN,\n  FILE_SERVER_PORT,\n  FILE_SERVER_DOMAIN,\n  COOKIE_DOMAIN,\n\n  // github第三方登录配置\n  GITHUB: {\n    AUTHORIZE_URL: 'https://github.com/login/oauth/authorize',\n    TOKEN_URL: 'https://github.com/login/oauth/access_token',\n    USER_URL: 'https://api.github.com/user',\n    CLIENT_ID: 'f3af6057b71e9fbd6951',\n  },\n\n  DEMO_ROOT_PATH: 'http://garvenzhang.github.io/',\n\n  cryptoPwd: (md5, account, password) => md5(md5(account) + md5('fje32###fa*&!!mmm' + password)),\n\n}","module.exports = __webpack_public_path__ + \"assets/favicon-bd6b14f304c2d7638cd5411443c47931.ico\";","var map = {\n\t\"./log\": \"./node_modules/webpack/hot/log.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/webpack/hot sync ^\\\\.\\\\/log$\";"],"sourceRoot":""}